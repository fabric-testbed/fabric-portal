"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/react-simple-maps";
exports.ids = ["vendor-chunks/react-simple-maps"];
exports.modules = {

/***/ "(ssr)/./node_modules/react-simple-maps/dist/index.es.js":
/*!*********************************************************!*\
  !*** ./node_modules/react-simple-maps/dist/index.es.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Annotation: () => (/* binding */ Annotation),\n/* harmony export */   ComposableMap: () => (/* binding */ ComposableMap),\n/* harmony export */   Geographies: () => (/* binding */ Geographies),\n/* harmony export */   Geography: () => (/* binding */ Geography$1),\n/* harmony export */   Graticule: () => (/* binding */ Graticule$1),\n/* harmony export */   Line: () => (/* binding */ Line),\n/* harmony export */   MapContext: () => (/* binding */ MapContext),\n/* harmony export */   MapProvider: () => (/* binding */ MapProvider),\n/* harmony export */   Marker: () => (/* binding */ Marker),\n/* harmony export */   Sphere: () => (/* binding */ Sphere$1),\n/* harmony export */   ZoomPanContext: () => (/* binding */ ZoomPanContext),\n/* harmony export */   ZoomPanProvider: () => (/* binding */ ZoomPanProvider),\n/* harmony export */   ZoomableGroup: () => (/* binding */ ZoomableGroup),\n/* harmony export */   useGeographies: () => (/* binding */ useGeographies),\n/* harmony export */   useMapContext: () => (/* binding */ useMapContext),\n/* harmony export */   useZoomPan: () => (/* binding */ useZoomPan),\n/* harmony export */   useZoomPanContext: () => (/* binding */ useZoomPanContext)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! prop-types */ \"(ssr)/./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var d3_geo__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! d3-geo */ \"(ssr)/./node_modules/d3-geo/src/path/index.js\");\n/* harmony import */ var d3_geo__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! d3-geo */ \"(ssr)/./node_modules/d3-geo/src/index.js\");\n/* harmony import */ var d3_geo__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! d3-geo */ \"(ssr)/./node_modules/d3-geo/src/graticule.js\");\n/* harmony import */ var topojson_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! topojson-client */ \"(ssr)/./node_modules/topojson-client/src/index.js\");\n/* harmony import */ var d3_zoom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! d3-zoom */ \"(ssr)/./node_modules/d3-zoom/src/index.js\");\n/* harmony import */ var d3_selection__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! d3-selection */ \"(ssr)/./node_modules/d3-selection/src/select.js\");\n\n\n\n\n\n\n\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nvar _excluded$a = [\"width\", \"height\", \"projection\", \"projectionConfig\"];\n\nvar geoPath = d3_geo__WEBPACK_IMPORTED_MODULE_3__[\"default\"],\n    projections = _objectWithoutProperties(d3_geo__WEBPACK_IMPORTED_MODULE_4__, [\"geoPath\"]);\n\nvar MapContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)();\n\nvar makeProjection = function makeProjection(_ref) {\n  var _ref$projectionConfig = _ref.projectionConfig,\n      projectionConfig = _ref$projectionConfig === void 0 ? {} : _ref$projectionConfig,\n      _ref$projection = _ref.projection,\n      projection = _ref$projection === void 0 ? \"geoEqualEarth\" : _ref$projection,\n      _ref$width = _ref.width,\n      width = _ref$width === void 0 ? 800 : _ref$width,\n      _ref$height = _ref.height,\n      height = _ref$height === void 0 ? 600 : _ref$height;\n  var isFunc = typeof projection === \"function\";\n  if (isFunc) return projection;\n  var proj = projections[projection]().translate([width / 2, height / 2]);\n  var supported = [proj.center ? \"center\" : null, proj.rotate ? \"rotate\" : null, proj.scale ? \"scale\" : null, proj.parallels ? \"parallels\" : null];\n  supported.forEach(function (d) {\n    if (!d) return;\n    proj = proj[d](projectionConfig[d] || proj[d]());\n  });\n  return proj;\n};\n\nvar MapProvider = function MapProvider(_ref2) {\n  var width = _ref2.width,\n      height = _ref2.height,\n      projection = _ref2.projection,\n      projectionConfig = _ref2.projectionConfig,\n      restProps = _objectWithoutProperties(_ref2, _excluded$a);\n\n  var _ref3 = projectionConfig.center || [],\n      _ref4 = _slicedToArray(_ref3, 2),\n      cx = _ref4[0],\n      cy = _ref4[1];\n\n  var _ref5 = projectionConfig.rotate || [],\n      _ref6 = _slicedToArray(_ref5, 3),\n      rx = _ref6[0],\n      ry = _ref6[1],\n      rz = _ref6[2];\n\n  var _ref7 = projectionConfig.parallels || [],\n      _ref8 = _slicedToArray(_ref7, 2),\n      p1 = _ref8[0],\n      p2 = _ref8[1];\n\n  var s = projectionConfig.scale || null;\n  var projMemo = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {\n    return makeProjection({\n      projectionConfig: {\n        center: cx || cx === 0 || cy || cy === 0 ? [cx, cy] : null,\n        rotate: rx || rx === 0 || ry || ry === 0 ? [rx, ry, rz] : null,\n        parallels: p1 || p1 === 0 || p2 || p2 === 0 ? [p1, p2] : null,\n        scale: s\n      },\n      projection: projection,\n      width: width,\n      height: height\n    });\n  }, [width, height, projection, cx, cy, rx, ry, rz, p1, p2, s]);\n  var proj = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(projMemo, [projMemo]);\n  var value = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {\n    return {\n      width: width,\n      height: height,\n      projection: proj,\n      path: geoPath().projection(proj)\n    };\n  }, [width, height, proj]);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(MapContext.Provider, _extends({\n    value: value\n  }, restProps));\n};\n\nMapProvider.propTypes = {\n  width: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().number),\n  height: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().number),\n  projection: prop_types__WEBPACK_IMPORTED_MODULE_5___default().oneOfType([(prop_types__WEBPACK_IMPORTED_MODULE_5___default().string), (prop_types__WEBPACK_IMPORTED_MODULE_5___default().func)]),\n  projectionConfig: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().object)\n};\n\nvar useMapContext = function useMapContext() {\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(MapContext);\n};\n\nvar _excluded$9 = [\"width\", \"height\", \"projection\", \"projectionConfig\", \"className\"];\nvar ComposableMap = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(function (_ref, ref) {\n  var _ref$width = _ref.width,\n      width = _ref$width === void 0 ? 800 : _ref$width,\n      _ref$height = _ref.height,\n      height = _ref$height === void 0 ? 600 : _ref$height,\n      _ref$projection = _ref.projection,\n      projection = _ref$projection === void 0 ? \"geoEqualEarth\" : _ref$projection,\n      _ref$projectionConfig = _ref.projectionConfig,\n      projectionConfig = _ref$projectionConfig === void 0 ? {} : _ref$projectionConfig,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? \"\" : _ref$className,\n      restProps = _objectWithoutProperties(_ref, _excluded$9);\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(MapProvider, {\n    width: width,\n    height: height,\n    projection: projection,\n    projectionConfig: projectionConfig\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"svg\", _extends({\n    ref: ref,\n    viewBox: \"0 0 \".concat(width, \" \").concat(height),\n    className: \"rsm-svg \".concat(className)\n  }, restProps)));\n});\nComposableMap.displayName = \"ComposableMap\";\nComposableMap.propTypes = {\n  width: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().number),\n  height: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().number),\n  projection: prop_types__WEBPACK_IMPORTED_MODULE_5___default().oneOfType([(prop_types__WEBPACK_IMPORTED_MODULE_5___default().string), (prop_types__WEBPACK_IMPORTED_MODULE_5___default().func)]),\n  projectionConfig: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().object),\n  className: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().string)\n};\n\nfunction getCoords(w, h, t) {\n  var xOffset = (w * t.k - w) / 2;\n  var yOffset = (h * t.k - h) / 2;\n  return [w / 2 - (xOffset + t.x) / t.k, h / 2 - (yOffset + t.y) / t.k];\n}\nfunction fetchGeographies(url) {\n  return fetch(url).then(function (res) {\n    if (!res.ok) {\n      throw Error(res.statusText);\n    }\n\n    return res.json();\n  })[\"catch\"](function (error) {\n    console.log(\"There was a problem when fetching the data: \", error);\n  });\n}\nfunction getFeatures(geographies, parseGeographies) {\n  var isTopojson = geographies.type === \"Topology\";\n\n  if (!isTopojson) {\n    return parseGeographies ? parseGeographies(geographies.features || geographies) : geographies.features || geographies;\n  }\n\n  var feats = (0,topojson_client__WEBPACK_IMPORTED_MODULE_1__.feature)(geographies, geographies.objects[Object.keys(geographies.objects)[0]]).features;\n  return parseGeographies ? parseGeographies(feats) : feats;\n}\nfunction getMesh(geographies) {\n  var isTopojson = geographies.type === \"Topology\";\n  if (!isTopojson) return null;\n  var outline = (0,topojson_client__WEBPACK_IMPORTED_MODULE_1__.mesh)(geographies, geographies.objects[Object.keys(geographies.objects)[0]], function (a, b) {\n    return a === b;\n  });\n  var borders = (0,topojson_client__WEBPACK_IMPORTED_MODULE_1__.mesh)(geographies, geographies.objects[Object.keys(geographies.objects)[0]], function (a, b) {\n    return a !== b;\n  });\n  return {\n    outline: outline,\n    borders: borders\n  };\n}\nfunction prepareMesh(outline, borders, path) {\n  return outline && borders ? {\n    outline: _objectSpread2(_objectSpread2({}, outline), {}, {\n      rsmKey: \"outline\",\n      svgPath: path(outline)\n    }),\n    borders: _objectSpread2(_objectSpread2({}, borders), {}, {\n      rsmKey: \"borders\",\n      svgPath: path(borders)\n    })\n  } : {};\n}\nfunction prepareFeatures(geographies, path) {\n  return geographies ? geographies.map(function (d, i) {\n    return _objectSpread2(_objectSpread2({}, d), {}, {\n      rsmKey: \"geo-\".concat(i),\n      svgPath: path(d)\n    });\n  }) : [];\n}\nfunction createConnectorPath() {\n  var dx = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 30;\n  var dy = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 30;\n  var curve = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0.5;\n  var curvature = Array.isArray(curve) ? curve : [curve, curve];\n  var curveX = dx / 2 * curvature[0];\n  var curveY = dy / 2 * curvature[1];\n  return \"M\".concat(0, \",\", 0, \" Q\", -dx / 2 - curveX, \",\").concat(-dy / 2 + curveY, \" \").concat(-dx, \",\").concat(-dy);\n}\nfunction isString(geo) {\n  return typeof geo === \"string\";\n}\n\nfunction useGeographies(_ref) {\n  var geography = _ref.geography,\n      parseGeographies = _ref.parseGeographies;\n\n  var _useContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(MapContext),\n      path = _useContext.path;\n\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      output = _useState2[0],\n      setOutput = _useState2[1];\n\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n    if ((typeof window === \"undefined\" ? \"undefined\" : _typeof(window)) === \"undefined\") return;\n    if (!geography) return;\n\n    if (isString(geography)) {\n      fetchGeographies(geography).then(function (geos) {\n        if (geos) {\n          setOutput({\n            geographies: getFeatures(geos, parseGeographies),\n            mesh: getMesh(geos)\n          });\n        }\n      });\n    } else {\n      setOutput({\n        geographies: getFeatures(geography, parseGeographies),\n        mesh: getMesh(geography)\n      });\n    }\n  }, [geography, parseGeographies]);\n\n  var _useMemo = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {\n    var mesh = output.mesh || {};\n    var preparedMesh = prepareMesh(mesh.outline, mesh.borders, path);\n    return {\n      geographies: prepareFeatures(output.geographies, path),\n      outline: preparedMesh.outline,\n      borders: preparedMesh.borders\n    };\n  }, [output, path]),\n      geographies = _useMemo.geographies,\n      outline = _useMemo.outline,\n      borders = _useMemo.borders;\n\n  return {\n    geographies: geographies,\n    outline: outline,\n    borders: borders\n  };\n}\n\nvar _excluded$8 = [\"geography\", \"children\", \"parseGeographies\", \"className\"];\nvar Geographies = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(function (_ref, ref) {\n  var geography = _ref.geography,\n      children = _ref.children,\n      parseGeographies = _ref.parseGeographies,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? \"\" : _ref$className,\n      restProps = _objectWithoutProperties(_ref, _excluded$8);\n\n  var _useContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(MapContext),\n      path = _useContext.path,\n      projection = _useContext.projection;\n\n  var _useGeographies = useGeographies({\n    geography: geography,\n    parseGeographies: parseGeographies\n  }),\n      geographies = _useGeographies.geographies,\n      outline = _useGeographies.outline,\n      borders = _useGeographies.borders;\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"g\", _extends({\n    ref: ref,\n    className: \"rsm-geographies \".concat(className)\n  }, restProps), geographies && geographies.length > 0 && children({\n    geographies: geographies,\n    outline: outline,\n    borders: borders,\n    path: path,\n    projection: projection\n  }));\n});\nGeographies.displayName = \"Geographies\";\nGeographies.propTypes = {\n  geography: prop_types__WEBPACK_IMPORTED_MODULE_5___default().oneOfType([(prop_types__WEBPACK_IMPORTED_MODULE_5___default().string), (prop_types__WEBPACK_IMPORTED_MODULE_5___default().object), (prop_types__WEBPACK_IMPORTED_MODULE_5___default().array)]),\n  children: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().func),\n  parseGeographies: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().func),\n  className: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().string)\n};\n\nvar _excluded$7 = [\"geography\", \"onMouseEnter\", \"onMouseLeave\", \"onMouseDown\", \"onMouseUp\", \"onFocus\", \"onBlur\", \"style\", \"className\"];\nvar Geography = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(function (_ref, ref) {\n  var geography = _ref.geography,\n      onMouseEnter = _ref.onMouseEnter,\n      onMouseLeave = _ref.onMouseLeave,\n      onMouseDown = _ref.onMouseDown,\n      onMouseUp = _ref.onMouseUp,\n      onFocus = _ref.onFocus,\n      onBlur = _ref.onBlur,\n      _ref$style = _ref.style,\n      style = _ref$style === void 0 ? {} : _ref$style,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? \"\" : _ref$className,\n      restProps = _objectWithoutProperties(_ref, _excluded$7);\n\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isPressed = _useState2[0],\n      setPressed = _useState2[1];\n\n  var _useState3 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isFocused = _useState4[0],\n      setFocus = _useState4[1];\n\n  function handleMouseEnter(evt) {\n    setFocus(true);\n    if (onMouseEnter) onMouseEnter(evt);\n  }\n\n  function handleMouseLeave(evt) {\n    setFocus(false);\n    if (isPressed) setPressed(false);\n    if (onMouseLeave) onMouseLeave(evt);\n  }\n\n  function handleFocus(evt) {\n    setFocus(true);\n    if (onFocus) onFocus(evt);\n  }\n\n  function handleBlur(evt) {\n    setFocus(false);\n    if (isPressed) setPressed(false);\n    if (onBlur) onBlur(evt);\n  }\n\n  function handleMouseDown(evt) {\n    setPressed(true);\n    if (onMouseDown) onMouseDown(evt);\n  }\n\n  function handleMouseUp(evt) {\n    setPressed(false);\n    if (onMouseUp) onMouseUp(evt);\n  }\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"path\", _extends({\n    ref: ref,\n    tabIndex: \"0\",\n    className: \"rsm-geography \".concat(className),\n    d: geography.svgPath,\n    onMouseEnter: handleMouseEnter,\n    onMouseLeave: handleMouseLeave,\n    onFocus: handleFocus,\n    onBlur: handleBlur,\n    onMouseDown: handleMouseDown,\n    onMouseUp: handleMouseUp,\n    style: style[isPressed || isFocused ? isPressed ? \"pressed\" : \"hover\" : \"default\"]\n  }, restProps));\n});\nGeography.displayName = \"Geography\";\nGeography.propTypes = {\n  geography: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().object),\n  onMouseEnter: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().func),\n  onMouseLeave: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().func),\n  onMouseDown: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().func),\n  onMouseUp: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().func),\n  onFocus: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().func),\n  onBlur: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().func),\n  style: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().object),\n  className: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().string)\n};\nvar Geography$1 = (0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(Geography);\n\nvar _excluded$6 = [\"fill\", \"stroke\", \"step\", \"className\"];\nvar Graticule = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(function (_ref, ref) {\n  var _ref$fill = _ref.fill,\n      fill = _ref$fill === void 0 ? \"transparent\" : _ref$fill,\n      _ref$stroke = _ref.stroke,\n      stroke = _ref$stroke === void 0 ? \"currentcolor\" : _ref$stroke,\n      _ref$step = _ref.step,\n      step = _ref$step === void 0 ? [10, 10] : _ref$step,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? \"\" : _ref$className,\n      restProps = _objectWithoutProperties(_ref, _excluded$6);\n\n  var _useContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(MapContext),\n      path = _useContext.path;\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"path\", _extends({\n    ref: ref,\n    d: path((0,d3_geo__WEBPACK_IMPORTED_MODULE_6__[\"default\"])().step(step)()),\n    fill: fill,\n    stroke: stroke,\n    className: \"rsm-graticule \".concat(className)\n  }, restProps));\n});\nGraticule.displayName = \"Graticule\";\nGraticule.propTypes = {\n  fill: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().string),\n  stroke: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().string),\n  step: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().array),\n  className: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().string)\n};\nvar Graticule$1 = (0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(Graticule);\n\nvar _excluded$5 = [\"value\"];\nvar ZoomPanContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)();\nvar defaultValue = {\n  x: 0,\n  y: 0,\n  k: 1,\n  transformString: \"translate(0 0) scale(1)\"\n};\n\nvar ZoomPanProvider = function ZoomPanProvider(_ref) {\n  var _ref$value = _ref.value,\n      value = _ref$value === void 0 ? defaultValue : _ref$value,\n      restProps = _objectWithoutProperties(_ref, _excluded$5);\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(ZoomPanContext.Provider, _extends({\n    value: value\n  }, restProps));\n};\n\nZoomPanProvider.propTypes = {\n  x: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().number),\n  y: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().number),\n  k: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().number),\n  transformString: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().string)\n};\n\nvar useZoomPanContext = function useZoomPanContext() {\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(ZoomPanContext);\n};\n\nfunction useZoomPan(_ref) {\n  var center = _ref.center,\n      filterZoomEvent = _ref.filterZoomEvent,\n      onMoveStart = _ref.onMoveStart,\n      onMoveEnd = _ref.onMoveEnd,\n      onMove = _ref.onMove,\n      _ref$translateExtent = _ref.translateExtent,\n      translateExtent = _ref$translateExtent === void 0 ? [[-Infinity, -Infinity], [Infinity, Infinity]] : _ref$translateExtent,\n      _ref$scaleExtent = _ref.scaleExtent,\n      scaleExtent = _ref$scaleExtent === void 0 ? [1, 8] : _ref$scaleExtent,\n      _ref$zoom = _ref.zoom,\n      zoom$1 = _ref$zoom === void 0 ? 1 : _ref$zoom;\n\n  var _useContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(MapContext),\n      width = _useContext.width,\n      height = _useContext.height,\n      projection = _useContext.projection;\n\n  var _center = _slicedToArray(center, 2),\n      lon = _center[0],\n      lat = _center[1];\n\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n    x: 0,\n    y: 0,\n    k: 1\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      position = _useState2[0],\n      setPosition = _useState2[1];\n\n  var lastPosition = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)({\n    x: 0,\n    y: 0,\n    k: 1\n  });\n  var mapRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();\n  var zoomRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();\n  var bypassEvents = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);\n\n  var _translateExtent = _slicedToArray(translateExtent, 2),\n      a = _translateExtent[0],\n      b = _translateExtent[1];\n\n  var _a = _slicedToArray(a, 2),\n      a1 = _a[0],\n      a2 = _a[1];\n\n  var _b = _slicedToArray(b, 2),\n      b1 = _b[0],\n      b2 = _b[1];\n\n  var _scaleExtent = _slicedToArray(scaleExtent, 2),\n      minZoom = _scaleExtent[0],\n      maxZoom = _scaleExtent[1];\n\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n    var svg = (0,d3_selection__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(mapRef.current);\n\n    function handleZoomStart(d3Event) {\n      if (!onMoveStart || bypassEvents.current) return;\n      onMoveStart({\n        coordinates: projection.invert(getCoords(width, height, d3Event.transform)),\n        zoom: d3Event.transform.k\n      }, d3Event);\n    }\n\n    function handleZoom(d3Event) {\n      if (bypassEvents.current) return;\n      var transform = d3Event.transform,\n          sourceEvent = d3Event.sourceEvent;\n      setPosition({\n        x: transform.x,\n        y: transform.y,\n        k: transform.k,\n        dragging: sourceEvent\n      });\n      if (!onMove) return;\n      onMove({\n        x: transform.x,\n        y: transform.y,\n        zoom: transform.k,\n        dragging: sourceEvent\n      }, d3Event);\n    }\n\n    function handleZoomEnd(d3Event) {\n      if (bypassEvents.current) {\n        bypassEvents.current = false;\n        return;\n      }\n\n      var _projection$invert = projection.invert(getCoords(width, height, d3Event.transform)),\n          _projection$invert2 = _slicedToArray(_projection$invert, 2),\n          x = _projection$invert2[0],\n          y = _projection$invert2[1];\n\n      lastPosition.current = {\n        x: x,\n        y: y,\n        k: d3Event.transform.k\n      };\n      if (!onMoveEnd) return;\n      onMoveEnd({\n        coordinates: [x, y],\n        zoom: d3Event.transform.k\n      }, d3Event);\n    }\n\n    function filterFunc(d3Event) {\n      if (filterZoomEvent) {\n        return filterZoomEvent(d3Event);\n      }\n\n      return d3Event ? !d3Event.ctrlKey && !d3Event.button : false;\n    }\n\n    var zoom$1 = (0,d3_zoom__WEBPACK_IMPORTED_MODULE_2__.zoom)().filter(filterFunc).scaleExtent([minZoom, maxZoom]).translateExtent([[a1, a2], [b1, b2]]).on(\"start\", handleZoomStart).on(\"zoom\", handleZoom).on(\"end\", handleZoomEnd);\n    zoomRef.current = zoom$1;\n    svg.call(zoom$1);\n  }, [width, height, a1, a2, b1, b2, minZoom, maxZoom, projection, onMoveStart, onMove, onMoveEnd, filterZoomEvent]);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {\n    if (lon === lastPosition.current.x && lat === lastPosition.current.y && zoom$1 === lastPosition.current.k) return;\n    var coords = projection([lon, lat]);\n    var x = coords[0] * zoom$1;\n    var y = coords[1] * zoom$1;\n    var svg = (0,d3_selection__WEBPACK_IMPORTED_MODULE_7__[\"default\"])(mapRef.current);\n    bypassEvents.current = true;\n    svg.call(zoomRef.current.transform, d3_zoom__WEBPACK_IMPORTED_MODULE_2__.zoomIdentity.translate(width / 2 - x, height / 2 - y).scale(zoom$1));\n    setPosition({\n      x: width / 2 - x,\n      y: height / 2 - y,\n      k: zoom$1\n    });\n    lastPosition.current = {\n      x: lon,\n      y: lat,\n      k: zoom$1\n    };\n  }, [lon, lat, zoom$1, width, height, projection]);\n  return {\n    mapRef: mapRef,\n    position: position,\n    transformString: \"translate(\".concat(position.x, \" \").concat(position.y, \") scale(\").concat(position.k, \")\")\n  };\n}\n\nvar _excluded$4 = [\"center\", \"zoom\", \"minZoom\", \"maxZoom\", \"translateExtent\", \"filterZoomEvent\", \"onMoveStart\", \"onMove\", \"onMoveEnd\", \"className\"];\nvar ZoomableGroup = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(function (_ref, ref) {\n  var _ref$center = _ref.center,\n      center = _ref$center === void 0 ? [0, 0] : _ref$center,\n      _ref$zoom = _ref.zoom,\n      zoom = _ref$zoom === void 0 ? 1 : _ref$zoom,\n      _ref$minZoom = _ref.minZoom,\n      minZoom = _ref$minZoom === void 0 ? 1 : _ref$minZoom,\n      _ref$maxZoom = _ref.maxZoom,\n      maxZoom = _ref$maxZoom === void 0 ? 8 : _ref$maxZoom,\n      translateExtent = _ref.translateExtent,\n      filterZoomEvent = _ref.filterZoomEvent,\n      onMoveStart = _ref.onMoveStart,\n      onMove = _ref.onMove,\n      onMoveEnd = _ref.onMoveEnd,\n      className = _ref.className,\n      restProps = _objectWithoutProperties(_ref, _excluded$4);\n\n  var _useContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(MapContext),\n      width = _useContext.width,\n      height = _useContext.height;\n\n  var _useZoomPan = useZoomPan({\n    center: center,\n    filterZoomEvent: filterZoomEvent,\n    onMoveStart: onMoveStart,\n    onMove: onMove,\n    onMoveEnd: onMoveEnd,\n    scaleExtent: [minZoom, maxZoom],\n    translateExtent: translateExtent,\n    zoom: zoom\n  }),\n      mapRef = _useZoomPan.mapRef,\n      transformString = _useZoomPan.transformString,\n      position = _useZoomPan.position;\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(ZoomPanProvider, {\n    value: {\n      x: position.x,\n      y: position.y,\n      k: position.k,\n      transformString: transformString\n    }\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"g\", {\n    ref: mapRef\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"rect\", {\n    width: width,\n    height: height,\n    fill: \"transparent\"\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"g\", _extends({\n    ref: ref,\n    transform: transformString,\n    className: \"rsm-zoomable-group \".concat(className)\n  }, restProps))));\n});\nZoomableGroup.displayName = \"ZoomableGroup\";\nZoomableGroup.propTypes = {\n  center: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().array),\n  zoom: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().number),\n  minZoom: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().number),\n  maxZoom: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().number),\n  translateExtent: prop_types__WEBPACK_IMPORTED_MODULE_5___default().arrayOf((prop_types__WEBPACK_IMPORTED_MODULE_5___default().array)),\n  onMoveStart: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().func),\n  onMove: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().func),\n  onMoveEnd: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().func),\n  className: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().string)\n};\n\nvar _excluded$3 = [\"id\", \"fill\", \"stroke\", \"strokeWidth\", \"className\"];\nvar Sphere = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(function (_ref, ref) {\n  var _ref$id = _ref.id,\n      id = _ref$id === void 0 ? \"rsm-sphere\" : _ref$id,\n      _ref$fill = _ref.fill,\n      fill = _ref$fill === void 0 ? \"transparent\" : _ref$fill,\n      _ref$stroke = _ref.stroke,\n      stroke = _ref$stroke === void 0 ? \"currentcolor\" : _ref$stroke,\n      _ref$strokeWidth = _ref.strokeWidth,\n      strokeWidth = _ref$strokeWidth === void 0 ? 0.5 : _ref$strokeWidth,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? \"\" : _ref$className,\n      restProps = _objectWithoutProperties(_ref, _excluded$3);\n\n  var _useContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(MapContext),\n      path = _useContext.path;\n\n  var spherePath = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {\n    return path({\n      type: \"Sphere\"\n    });\n  }, [path]);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"defs\", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"clipPath\", {\n    id: id\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"path\", {\n    d: spherePath\n  }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"path\", _extends({\n    ref: ref,\n    d: spherePath,\n    fill: fill,\n    stroke: stroke,\n    strokeWidth: strokeWidth,\n    style: {\n      pointerEvents: \"none\"\n    },\n    className: \"rsm-sphere \".concat(className)\n  }, restProps)));\n});\nSphere.displayName = \"Sphere\";\nSphere.propTypes = {\n  id: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().string),\n  fill: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().string),\n  stroke: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().string),\n  strokeWidth: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().number),\n  className: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().string)\n};\nvar Sphere$1 = (0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(Sphere);\n\nvar _excluded$2 = [\"coordinates\", \"children\", \"onMouseEnter\", \"onMouseLeave\", \"onMouseDown\", \"onMouseUp\", \"onFocus\", \"onBlur\", \"style\", \"className\"];\nvar Marker = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(function (_ref, ref) {\n  var coordinates = _ref.coordinates,\n      children = _ref.children,\n      onMouseEnter = _ref.onMouseEnter,\n      onMouseLeave = _ref.onMouseLeave,\n      onMouseDown = _ref.onMouseDown,\n      onMouseUp = _ref.onMouseUp,\n      onFocus = _ref.onFocus,\n      onBlur = _ref.onBlur,\n      _ref$style = _ref.style,\n      style = _ref$style === void 0 ? {} : _ref$style,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? \"\" : _ref$className,\n      restProps = _objectWithoutProperties(_ref, _excluded$2);\n\n  var _useContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(MapContext),\n      projection = _useContext.projection;\n\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isPressed = _useState2[0],\n      setPressed = _useState2[1];\n\n  var _useState3 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isFocused = _useState4[0],\n      setFocus = _useState4[1];\n\n  var _projection = projection(coordinates),\n      _projection2 = _slicedToArray(_projection, 2),\n      x = _projection2[0],\n      y = _projection2[1];\n\n  function handleMouseEnter(evt) {\n    setFocus(true);\n    if (onMouseEnter) onMouseEnter(evt);\n  }\n\n  function handleMouseLeave(evt) {\n    setFocus(false);\n    if (isPressed) setPressed(false);\n    if (onMouseLeave) onMouseLeave(evt);\n  }\n\n  function handleFocus(evt) {\n    setFocus(true);\n    if (onFocus) onFocus(evt);\n  }\n\n  function handleBlur(evt) {\n    setFocus(false);\n    if (isPressed) setPressed(false);\n    if (onBlur) onBlur(evt);\n  }\n\n  function handleMouseDown(evt) {\n    setPressed(true);\n    if (onMouseDown) onMouseDown(evt);\n  }\n\n  function handleMouseUp(evt) {\n    setPressed(false);\n    if (onMouseUp) onMouseUp(evt);\n  }\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"g\", _extends({\n    ref: ref,\n    transform: \"translate(\".concat(x, \", \").concat(y, \")\"),\n    className: \"rsm-marker \".concat(className),\n    onMouseEnter: handleMouseEnter,\n    onMouseLeave: handleMouseLeave,\n    onFocus: handleFocus,\n    onBlur: handleBlur,\n    onMouseDown: handleMouseDown,\n    onMouseUp: handleMouseUp,\n    style: style[isPressed || isFocused ? isPressed ? \"pressed\" : \"hover\" : \"default\"]\n  }, restProps), children);\n});\nMarker.displayName = \"Marker\";\nMarker.propTypes = {\n  coordinates: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().array),\n  children: prop_types__WEBPACK_IMPORTED_MODULE_5___default().oneOfType([(prop_types__WEBPACK_IMPORTED_MODULE_5___default().node), prop_types__WEBPACK_IMPORTED_MODULE_5___default().arrayOf((prop_types__WEBPACK_IMPORTED_MODULE_5___default().node))]),\n  onMouseEnter: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().func),\n  onMouseLeave: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().func),\n  onMouseDown: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().func),\n  onMouseUp: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().func),\n  onFocus: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().func),\n  onBlur: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().func),\n  style: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().object),\n  className: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().string)\n};\n\nvar _excluded$1 = [\"from\", \"to\", \"coordinates\", \"stroke\", \"strokeWidth\", \"fill\", \"className\"];\nvar Line = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(function (_ref, ref) {\n  var _ref$from = _ref.from,\n      from = _ref$from === void 0 ? [0, 0] : _ref$from,\n      _ref$to = _ref.to,\n      to = _ref$to === void 0 ? [0, 0] : _ref$to,\n      coordinates = _ref.coordinates,\n      _ref$stroke = _ref.stroke,\n      stroke = _ref$stroke === void 0 ? \"currentcolor\" : _ref$stroke,\n      _ref$strokeWidth = _ref.strokeWidth,\n      strokeWidth = _ref$strokeWidth === void 0 ? 3 : _ref$strokeWidth,\n      _ref$fill = _ref.fill,\n      fill = _ref$fill === void 0 ? \"transparent\" : _ref$fill,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? \"\" : _ref$className,\n      restProps = _objectWithoutProperties(_ref, _excluded$1);\n\n  var _useContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(MapContext),\n      path = _useContext.path;\n\n  var lineData = {\n    type: \"LineString\",\n    coordinates: coordinates || [from, to]\n  };\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"path\", _extends({\n    ref: ref,\n    d: path(lineData),\n    className: \"rsm-line \".concat(className),\n    stroke: stroke,\n    strokeWidth: strokeWidth,\n    fill: fill\n  }, restProps));\n});\nLine.displayName = \"Line\";\nLine.propTypes = {\n  from: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().array),\n  to: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().array),\n  coordinates: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().array),\n  stroke: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().string),\n  strokeWidth: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().number),\n  fill: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().string),\n  className: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().string)\n};\n\nvar _excluded = [\"subject\", \"children\", \"connectorProps\", \"dx\", \"dy\", \"curve\", \"className\"];\nvar Annotation = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(function (_ref, ref) {\n  var subject = _ref.subject,\n      children = _ref.children,\n      connectorProps = _ref.connectorProps,\n      _ref$dx = _ref.dx,\n      dx = _ref$dx === void 0 ? 30 : _ref$dx,\n      _ref$dy = _ref.dy,\n      dy = _ref$dy === void 0 ? 30 : _ref$dy,\n      _ref$curve = _ref.curve,\n      curve = _ref$curve === void 0 ? 0 : _ref$curve,\n      _ref$className = _ref.className,\n      className = _ref$className === void 0 ? \"\" : _ref$className,\n      restProps = _objectWithoutProperties(_ref, _excluded);\n\n  var _useContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(MapContext),\n      projection = _useContext.projection;\n\n  var _projection = projection(subject),\n      _projection2 = _slicedToArray(_projection, 2),\n      x = _projection2[0],\n      y = _projection2[1];\n\n  var connectorPath = createConnectorPath(dx, dy, curve);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"g\", _extends({\n    ref: ref,\n    transform: \"translate(\".concat(x + dx, \", \").concat(y + dy, \")\"),\n    className: \"rsm-annotation \".concat(className)\n  }, restProps), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(\"path\", _extends({\n    d: connectorPath,\n    fill: \"transparent\",\n    stroke: \"#000\"\n  }, connectorProps)), children);\n});\nAnnotation.displayName = \"Annotation\";\nAnnotation.propTypes = {\n  subject: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().array),\n  children: prop_types__WEBPACK_IMPORTED_MODULE_5___default().oneOfType([(prop_types__WEBPACK_IMPORTED_MODULE_5___default().node), prop_types__WEBPACK_IMPORTED_MODULE_5___default().arrayOf((prop_types__WEBPACK_IMPORTED_MODULE_5___default().node))]),\n  dx: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().number),\n  dy: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().number),\n  curve: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().number),\n  connectorProps: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().object),\n  className: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().string)\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcmVhY3Qtc2ltcGxlLW1hcHMvZGlzdC9pbmRleC5lcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBd0k7QUFDckc7QUFDSDtBQUNNO0FBQ1U7QUFDSDtBQUNQOztBQUV0QztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxrQkFBa0Isc0JBQXNCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxvQkFBb0Isc0JBQXNCO0FBQzFDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGNBQWMsdUJBQXVCO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBLGdCQUFnQiw2QkFBNkI7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsNEJBQTRCLCtCQUErQjtBQUMzRDs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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Q3pDO0FBQ0E7QUFDQTtBQUNBLEdBQUcsMkJBQTJCLDBEQUFtQjtBQUNqRDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsQ0FBQztBQUNEO0FBQ0E7QUFDQSxXQUFXLHlEQUFlO0FBQzFCLFlBQVksMkRBQW1CLEVBQUUsd0RBQWMsRUFBRSx5REFBaUIsQ0FBQyx3REFBYztBQUNqRixNQUFNLDBEQUFnQjtBQUN0QixNQUFNLDBEQUFnQjtBQUN0QixTQUFTLDBEQUFnQjtBQUN6QixrQkFBa0IsMERBQWdCO0FBQ2xDLGFBQWEsMERBQWdCO0FBQzdCOztBQUUrUSIsInNvdXJjZXMiOlsiL1VzZXJzL3lheHVlZ3VvL0Rlc2t0b3AvZmFicmljLXBvcnRhbC9ub2RlX21vZHVsZXMvcmVhY3Qtc2ltcGxlLW1hcHMvZGlzdC9pbmRleC5lcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgY3JlYXRlQ29udGV4dCwgdXNlTWVtbywgdXNlQ2FsbGJhY2ssIHVzZUNvbnRleHQsIGZvcndhcmRSZWYsIHVzZVN0YXRlLCB1c2VFZmZlY3QsIG1lbW8sIHVzZVJlZiwgRnJhZ21lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0ICogYXMgZDNHZW8gZnJvbSAnZDMtZ2VvJztcbmltcG9ydCB7IGdlb0dyYXRpY3VsZSB9IGZyb20gJ2QzLWdlbyc7XG5pbXBvcnQgeyBmZWF0dXJlLCBtZXNoIH0gZnJvbSAndG9wb2pzb24tY2xpZW50JztcbmltcG9ydCB7IHpvb20sIHpvb21JZGVudGl0eSB9IGZyb20gJ2QzLXpvb20nO1xuaW1wb3J0IHsgc2VsZWN0IH0gZnJvbSAnZDMtc2VsZWN0aW9uJztcblxuZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7XG4gIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTtcblxuICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykge1xuICAgIHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpO1xuICAgIGVudW1lcmFibGVPbmx5ICYmIChzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkge1xuICAgICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7XG4gICAgfSkpLCBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7XG4gIH1cblxuICByZXR1cm4ga2V5cztcbn1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZDIodGFyZ2V0KSB7XG4gIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHNvdXJjZSA9IG51bGwgIT0gYXJndW1lbnRzW2ldID8gYXJndW1lbnRzW2ldIDoge307XG4gICAgaSAlIDIgPyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTtcbiAgICB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKSA6IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufVxuXG5mdW5jdGlvbiBfdHlwZW9mKG9iaikge1xuICBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7XG5cbiAgcmV0dXJuIF90eXBlb2YgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBcInN5bWJvbFwiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAob2JqKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBvYmo7XG4gIH0gOiBmdW5jdGlvbiAob2JqKSB7XG4gICAgcmV0dXJuIG9iaiAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajtcbiAgfSwgX3R5cGVvZihvYmopO1xufVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7XG4gIGlmIChrZXkgaW4gb2JqKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgd3JpdGFibGU6IHRydWVcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBvYmpba2V5XSA9IHZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIG9iajtcbn1cblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7XG4gIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiA/IE9iamVjdC5hc3NpZ24uYmluZCgpIDogZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH07XG4gIHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7XG4gIGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9O1xuICB2YXIgdGFyZ2V0ID0ge307XG4gIHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcbiAgdmFyIGtleSwgaTtcblxuICBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykge1xuICAgIGtleSA9IHNvdXJjZUtleXNbaV07XG4gICAgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTtcbiAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKHNvdXJjZSwgZXhjbHVkZWQpIHtcbiAgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307XG5cbiAgdmFyIHRhcmdldCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpO1xuXG4gIHZhciBrZXksIGk7XG5cbiAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgICB2YXIgc291cmNlU3ltYm9sS2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlKTtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBzb3VyY2VTeW1ib2xLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBrZXkgPSBzb3VyY2VTeW1ib2xLZXlzW2ldO1xuICAgICAgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTtcbiAgICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHNvdXJjZSwga2V5KSkgY29udGludWU7XG4gICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59XG5cbmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkge1xuICByZXR1cm4gX2FycmF5V2l0aEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFyciwgaSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpO1xufVxuXG5mdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7XG59XG5cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHtcbiAgdmFyIF9pID0gYXJyID09IG51bGwgPyBudWxsIDogdHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBhcnJbU3ltYm9sLml0ZXJhdG9yXSB8fCBhcnJbXCJAQGl0ZXJhdG9yXCJdO1xuXG4gIGlmIChfaSA9PSBudWxsKSByZXR1cm47XG4gIHZhciBfYXJyID0gW107XG4gIHZhciBfbiA9IHRydWU7XG4gIHZhciBfZCA9IGZhbHNlO1xuXG4gIHZhciBfcywgX2U7XG5cbiAgdHJ5IHtcbiAgICBmb3IgKF9pID0gX2kuY2FsbChhcnIpOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7XG4gICAgICBfYXJyLnB1c2goX3MudmFsdWUpO1xuXG4gICAgICBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBfZCA9IHRydWU7XG4gICAgX2UgPSBlcnI7XG4gIH0gZmluYWxseSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICghX24gJiYgX2lbXCJyZXR1cm5cIl0gIT0gbnVsbCkgX2lbXCJyZXR1cm5cIl0oKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKF9kKSB0aHJvdyBfZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gX2Fycjtcbn1cblxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikge1xuICBpZiAoIW8pIHJldHVybjtcbiAgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTtcbiAgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpO1xuICBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lO1xuICBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTtcbiAgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pO1xufVxuXG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShhcnIsIGxlbikge1xuICBpZiAobGVuID09IG51bGwgfHwgbGVuID4gYXJyLmxlbmd0aCkgbGVuID0gYXJyLmxlbmd0aDtcblxuICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIGFycjJbaV0gPSBhcnJbaV07XG5cbiAgcmV0dXJuIGFycjI7XG59XG5cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7XG4gIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7XG59XG5cbnZhciBfZXhjbHVkZWQkYSA9IFtcIndpZHRoXCIsIFwiaGVpZ2h0XCIsIFwicHJvamVjdGlvblwiLCBcInByb2plY3Rpb25Db25maWdcIl07XG5cbnZhciBnZW9QYXRoID0gZDNHZW8uZ2VvUGF0aCxcbiAgICBwcm9qZWN0aW9ucyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhkM0dlbywgW1wiZ2VvUGF0aFwiXSk7XG5cbnZhciBNYXBDb250ZXh0ID0gY3JlYXRlQ29udGV4dCgpO1xuXG52YXIgbWFrZVByb2plY3Rpb24gPSBmdW5jdGlvbiBtYWtlUHJvamVjdGlvbihfcmVmKSB7XG4gIHZhciBfcmVmJHByb2plY3Rpb25Db25maWcgPSBfcmVmLnByb2plY3Rpb25Db25maWcsXG4gICAgICBwcm9qZWN0aW9uQ29uZmlnID0gX3JlZiRwcm9qZWN0aW9uQ29uZmlnID09PSB2b2lkIDAgPyB7fSA6IF9yZWYkcHJvamVjdGlvbkNvbmZpZyxcbiAgICAgIF9yZWYkcHJvamVjdGlvbiA9IF9yZWYucHJvamVjdGlvbixcbiAgICAgIHByb2plY3Rpb24gPSBfcmVmJHByb2plY3Rpb24gPT09IHZvaWQgMCA/IFwiZ2VvRXF1YWxFYXJ0aFwiIDogX3JlZiRwcm9qZWN0aW9uLFxuICAgICAgX3JlZiR3aWR0aCA9IF9yZWYud2lkdGgsXG4gICAgICB3aWR0aCA9IF9yZWYkd2lkdGggPT09IHZvaWQgMCA/IDgwMCA6IF9yZWYkd2lkdGgsXG4gICAgICBfcmVmJGhlaWdodCA9IF9yZWYuaGVpZ2h0LFxuICAgICAgaGVpZ2h0ID0gX3JlZiRoZWlnaHQgPT09IHZvaWQgMCA/IDYwMCA6IF9yZWYkaGVpZ2h0O1xuICB2YXIgaXNGdW5jID0gdHlwZW9mIHByb2plY3Rpb24gPT09IFwiZnVuY3Rpb25cIjtcbiAgaWYgKGlzRnVuYykgcmV0dXJuIHByb2plY3Rpb247XG4gIHZhciBwcm9qID0gcHJvamVjdGlvbnNbcHJvamVjdGlvbl0oKS50cmFuc2xhdGUoW3dpZHRoIC8gMiwgaGVpZ2h0IC8gMl0pO1xuICB2YXIgc3VwcG9ydGVkID0gW3Byb2ouY2VudGVyID8gXCJjZW50ZXJcIiA6IG51bGwsIHByb2oucm90YXRlID8gXCJyb3RhdGVcIiA6IG51bGwsIHByb2ouc2NhbGUgPyBcInNjYWxlXCIgOiBudWxsLCBwcm9qLnBhcmFsbGVscyA/IFwicGFyYWxsZWxzXCIgOiBudWxsXTtcbiAgc3VwcG9ydGVkLmZvckVhY2goZnVuY3Rpb24gKGQpIHtcbiAgICBpZiAoIWQpIHJldHVybjtcbiAgICBwcm9qID0gcHJvaltkXShwcm9qZWN0aW9uQ29uZmlnW2RdIHx8IHByb2pbZF0oKSk7XG4gIH0pO1xuICByZXR1cm4gcHJvajtcbn07XG5cbnZhciBNYXBQcm92aWRlciA9IGZ1bmN0aW9uIE1hcFByb3ZpZGVyKF9yZWYyKSB7XG4gIHZhciB3aWR0aCA9IF9yZWYyLndpZHRoLFxuICAgICAgaGVpZ2h0ID0gX3JlZjIuaGVpZ2h0LFxuICAgICAgcHJvamVjdGlvbiA9IF9yZWYyLnByb2plY3Rpb24sXG4gICAgICBwcm9qZWN0aW9uQ29uZmlnID0gX3JlZjIucHJvamVjdGlvbkNvbmZpZyxcbiAgICAgIHJlc3RQcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcmVmMiwgX2V4Y2x1ZGVkJGEpO1xuXG4gIHZhciBfcmVmMyA9IHByb2plY3Rpb25Db25maWcuY2VudGVyIHx8IFtdLFxuICAgICAgX3JlZjQgPSBfc2xpY2VkVG9BcnJheShfcmVmMywgMiksXG4gICAgICBjeCA9IF9yZWY0WzBdLFxuICAgICAgY3kgPSBfcmVmNFsxXTtcblxuICB2YXIgX3JlZjUgPSBwcm9qZWN0aW9uQ29uZmlnLnJvdGF0ZSB8fCBbXSxcbiAgICAgIF9yZWY2ID0gX3NsaWNlZFRvQXJyYXkoX3JlZjUsIDMpLFxuICAgICAgcnggPSBfcmVmNlswXSxcbiAgICAgIHJ5ID0gX3JlZjZbMV0sXG4gICAgICByeiA9IF9yZWY2WzJdO1xuXG4gIHZhciBfcmVmNyA9IHByb2plY3Rpb25Db25maWcucGFyYWxsZWxzIHx8IFtdLFxuICAgICAgX3JlZjggPSBfc2xpY2VkVG9BcnJheShfcmVmNywgMiksXG4gICAgICBwMSA9IF9yZWY4WzBdLFxuICAgICAgcDIgPSBfcmVmOFsxXTtcblxuICB2YXIgcyA9IHByb2plY3Rpb25Db25maWcuc2NhbGUgfHwgbnVsbDtcbiAgdmFyIHByb2pNZW1vID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIG1ha2VQcm9qZWN0aW9uKHtcbiAgICAgIHByb2plY3Rpb25Db25maWc6IHtcbiAgICAgICAgY2VudGVyOiBjeCB8fCBjeCA9PT0gMCB8fCBjeSB8fCBjeSA9PT0gMCA/IFtjeCwgY3ldIDogbnVsbCxcbiAgICAgICAgcm90YXRlOiByeCB8fCByeCA9PT0gMCB8fCByeSB8fCByeSA9PT0gMCA/IFtyeCwgcnksIHJ6XSA6IG51bGwsXG4gICAgICAgIHBhcmFsbGVsczogcDEgfHwgcDEgPT09IDAgfHwgcDIgfHwgcDIgPT09IDAgPyBbcDEsIHAyXSA6IG51bGwsXG4gICAgICAgIHNjYWxlOiBzXG4gICAgICB9LFxuICAgICAgcHJvamVjdGlvbjogcHJvamVjdGlvbixcbiAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgIGhlaWdodDogaGVpZ2h0XG4gICAgfSk7XG4gIH0sIFt3aWR0aCwgaGVpZ2h0LCBwcm9qZWN0aW9uLCBjeCwgY3ksIHJ4LCByeSwgcnosIHAxLCBwMiwgc10pO1xuICB2YXIgcHJvaiA9IHVzZUNhbGxiYWNrKHByb2pNZW1vLCBbcHJvak1lbW9dKTtcbiAgdmFyIHZhbHVlID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgICAgcHJvamVjdGlvbjogcHJvaixcbiAgICAgIHBhdGg6IGdlb1BhdGgoKS5wcm9qZWN0aW9uKHByb2opXG4gICAgfTtcbiAgfSwgW3dpZHRoLCBoZWlnaHQsIHByb2pdKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KE1hcENvbnRleHQuUHJvdmlkZXIsIF9leHRlbmRzKHtcbiAgICB2YWx1ZTogdmFsdWVcbiAgfSwgcmVzdFByb3BzKSk7XG59O1xuXG5NYXBQcm92aWRlci5wcm9wVHlwZXMgPSB7XG4gIHdpZHRoOiBQcm9wVHlwZXMubnVtYmVyLFxuICBoZWlnaHQ6IFByb3BUeXBlcy5udW1iZXIsXG4gIHByb2plY3Rpb246IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5zdHJpbmcsIFByb3BUeXBlcy5mdW5jXSksXG4gIHByb2plY3Rpb25Db25maWc6IFByb3BUeXBlcy5vYmplY3Rcbn07XG5cbnZhciB1c2VNYXBDb250ZXh0ID0gZnVuY3Rpb24gdXNlTWFwQ29udGV4dCgpIHtcbiAgcmV0dXJuIHVzZUNvbnRleHQoTWFwQ29udGV4dCk7XG59O1xuXG52YXIgX2V4Y2x1ZGVkJDkgPSBbXCJ3aWR0aFwiLCBcImhlaWdodFwiLCBcInByb2plY3Rpb25cIiwgXCJwcm9qZWN0aW9uQ29uZmlnXCIsIFwiY2xhc3NOYW1lXCJdO1xudmFyIENvbXBvc2FibGVNYXAgPSBmb3J3YXJkUmVmKGZ1bmN0aW9uIChfcmVmLCByZWYpIHtcbiAgdmFyIF9yZWYkd2lkdGggPSBfcmVmLndpZHRoLFxuICAgICAgd2lkdGggPSBfcmVmJHdpZHRoID09PSB2b2lkIDAgPyA4MDAgOiBfcmVmJHdpZHRoLFxuICAgICAgX3JlZiRoZWlnaHQgPSBfcmVmLmhlaWdodCxcbiAgICAgIGhlaWdodCA9IF9yZWYkaGVpZ2h0ID09PSB2b2lkIDAgPyA2MDAgOiBfcmVmJGhlaWdodCxcbiAgICAgIF9yZWYkcHJvamVjdGlvbiA9IF9yZWYucHJvamVjdGlvbixcbiAgICAgIHByb2plY3Rpb24gPSBfcmVmJHByb2plY3Rpb24gPT09IHZvaWQgMCA/IFwiZ2VvRXF1YWxFYXJ0aFwiIDogX3JlZiRwcm9qZWN0aW9uLFxuICAgICAgX3JlZiRwcm9qZWN0aW9uQ29uZmlnID0gX3JlZi5wcm9qZWN0aW9uQ29uZmlnLFxuICAgICAgcHJvamVjdGlvbkNvbmZpZyA9IF9yZWYkcHJvamVjdGlvbkNvbmZpZyA9PT0gdm9pZCAwID8ge30gOiBfcmVmJHByb2plY3Rpb25Db25maWcsXG4gICAgICBfcmVmJGNsYXNzTmFtZSA9IF9yZWYuY2xhc3NOYW1lLFxuICAgICAgY2xhc3NOYW1lID0gX3JlZiRjbGFzc05hbWUgPT09IHZvaWQgMCA/IFwiXCIgOiBfcmVmJGNsYXNzTmFtZSxcbiAgICAgIHJlc3RQcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcmVmLCBfZXhjbHVkZWQkOSk7XG5cbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KE1hcFByb3ZpZGVyLCB7XG4gICAgd2lkdGg6IHdpZHRoLFxuICAgIGhlaWdodDogaGVpZ2h0LFxuICAgIHByb2plY3Rpb246IHByb2plY3Rpb24sXG4gICAgcHJvamVjdGlvbkNvbmZpZzogcHJvamVjdGlvbkNvbmZpZ1xuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInN2Z1wiLCBfZXh0ZW5kcyh7XG4gICAgcmVmOiByZWYsXG4gICAgdmlld0JveDogXCIwIDAgXCIuY29uY2F0KHdpZHRoLCBcIiBcIikuY29uY2F0KGhlaWdodCksXG4gICAgY2xhc3NOYW1lOiBcInJzbS1zdmcgXCIuY29uY2F0KGNsYXNzTmFtZSlcbiAgfSwgcmVzdFByb3BzKSkpO1xufSk7XG5Db21wb3NhYmxlTWFwLmRpc3BsYXlOYW1lID0gXCJDb21wb3NhYmxlTWFwXCI7XG5Db21wb3NhYmxlTWFwLnByb3BUeXBlcyA9IHtcbiAgd2lkdGg6IFByb3BUeXBlcy5udW1iZXIsXG4gIGhlaWdodDogUHJvcFR5cGVzLm51bWJlcixcbiAgcHJvamVjdGlvbjogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLmZ1bmNdKSxcbiAgcHJvamVjdGlvbkNvbmZpZzogUHJvcFR5cGVzLm9iamVjdCxcbiAgY2xhc3NOYW1lOiBQcm9wVHlwZXMuc3RyaW5nXG59O1xuXG5mdW5jdGlvbiBnZXRDb29yZHModywgaCwgdCkge1xuICB2YXIgeE9mZnNldCA9ICh3ICogdC5rIC0gdykgLyAyO1xuICB2YXIgeU9mZnNldCA9IChoICogdC5rIC0gaCkgLyAyO1xuICByZXR1cm4gW3cgLyAyIC0gKHhPZmZzZXQgKyB0LngpIC8gdC5rLCBoIC8gMiAtICh5T2Zmc2V0ICsgdC55KSAvIHQua107XG59XG5mdW5jdGlvbiBmZXRjaEdlb2dyYXBoaWVzKHVybCkge1xuICByZXR1cm4gZmV0Y2godXJsKS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICBpZiAoIXJlcy5vaykge1xuICAgICAgdGhyb3cgRXJyb3IocmVzLnN0YXR1c1RleHQpO1xuICAgIH1cblxuICAgIHJldHVybiByZXMuanNvbigpO1xuICB9KVtcImNhdGNoXCJdKGZ1bmN0aW9uIChlcnJvcikge1xuICAgIGNvbnNvbGUubG9nKFwiVGhlcmUgd2FzIGEgcHJvYmxlbSB3aGVuIGZldGNoaW5nIHRoZSBkYXRhOiBcIiwgZXJyb3IpO1xuICB9KTtcbn1cbmZ1bmN0aW9uIGdldEZlYXR1cmVzKGdlb2dyYXBoaWVzLCBwYXJzZUdlb2dyYXBoaWVzKSB7XG4gIHZhciBpc1RvcG9qc29uID0gZ2VvZ3JhcGhpZXMudHlwZSA9PT0gXCJUb3BvbG9neVwiO1xuXG4gIGlmICghaXNUb3BvanNvbikge1xuICAgIHJldHVybiBwYXJzZUdlb2dyYXBoaWVzID8gcGFyc2VHZW9ncmFwaGllcyhnZW9ncmFwaGllcy5mZWF0dXJlcyB8fCBnZW9ncmFwaGllcykgOiBnZW9ncmFwaGllcy5mZWF0dXJlcyB8fCBnZW9ncmFwaGllcztcbiAgfVxuXG4gIHZhciBmZWF0cyA9IGZlYXR1cmUoZ2VvZ3JhcGhpZXMsIGdlb2dyYXBoaWVzLm9iamVjdHNbT2JqZWN0LmtleXMoZ2VvZ3JhcGhpZXMub2JqZWN0cylbMF1dKS5mZWF0dXJlcztcbiAgcmV0dXJuIHBhcnNlR2VvZ3JhcGhpZXMgPyBwYXJzZUdlb2dyYXBoaWVzKGZlYXRzKSA6IGZlYXRzO1xufVxuZnVuY3Rpb24gZ2V0TWVzaChnZW9ncmFwaGllcykge1xuICB2YXIgaXNUb3BvanNvbiA9IGdlb2dyYXBoaWVzLnR5cGUgPT09IFwiVG9wb2xvZ3lcIjtcbiAgaWYgKCFpc1RvcG9qc29uKSByZXR1cm4gbnVsbDtcbiAgdmFyIG91dGxpbmUgPSBtZXNoKGdlb2dyYXBoaWVzLCBnZW9ncmFwaGllcy5vYmplY3RzW09iamVjdC5rZXlzKGdlb2dyYXBoaWVzLm9iamVjdHMpWzBdXSwgZnVuY3Rpb24gKGEsIGIpIHtcbiAgICByZXR1cm4gYSA9PT0gYjtcbiAgfSk7XG4gIHZhciBib3JkZXJzID0gbWVzaChnZW9ncmFwaGllcywgZ2VvZ3JhcGhpZXMub2JqZWN0c1tPYmplY3Qua2V5cyhnZW9ncmFwaGllcy5vYmplY3RzKVswXV0sIGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgcmV0dXJuIGEgIT09IGI7XG4gIH0pO1xuICByZXR1cm4ge1xuICAgIG91dGxpbmU6IG91dGxpbmUsXG4gICAgYm9yZGVyczogYm9yZGVyc1xuICB9O1xufVxuZnVuY3Rpb24gcHJlcGFyZU1lc2gob3V0bGluZSwgYm9yZGVycywgcGF0aCkge1xuICByZXR1cm4gb3V0bGluZSAmJiBib3JkZXJzID8ge1xuICAgIG91dGxpbmU6IF9vYmplY3RTcHJlYWQyKF9vYmplY3RTcHJlYWQyKHt9LCBvdXRsaW5lKSwge30sIHtcbiAgICAgIHJzbUtleTogXCJvdXRsaW5lXCIsXG4gICAgICBzdmdQYXRoOiBwYXRoKG91dGxpbmUpXG4gICAgfSksXG4gICAgYm9yZGVyczogX29iamVjdFNwcmVhZDIoX29iamVjdFNwcmVhZDIoe30sIGJvcmRlcnMpLCB7fSwge1xuICAgICAgcnNtS2V5OiBcImJvcmRlcnNcIixcbiAgICAgIHN2Z1BhdGg6IHBhdGgoYm9yZGVycylcbiAgICB9KVxuICB9IDoge307XG59XG5mdW5jdGlvbiBwcmVwYXJlRmVhdHVyZXMoZ2VvZ3JhcGhpZXMsIHBhdGgpIHtcbiAgcmV0dXJuIGdlb2dyYXBoaWVzID8gZ2VvZ3JhcGhpZXMubWFwKGZ1bmN0aW9uIChkLCBpKSB7XG4gICAgcmV0dXJuIF9vYmplY3RTcHJlYWQyKF9vYmplY3RTcHJlYWQyKHt9LCBkKSwge30sIHtcbiAgICAgIHJzbUtleTogXCJnZW8tXCIuY29uY2F0KGkpLFxuICAgICAgc3ZnUGF0aDogcGF0aChkKVxuICAgIH0pO1xuICB9KSA6IFtdO1xufVxuZnVuY3Rpb24gY3JlYXRlQ29ubmVjdG9yUGF0aCgpIHtcbiAgdmFyIGR4ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAzMDtcbiAgdmFyIGR5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAzMDtcbiAgdmFyIGN1cnZlID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAwLjU7XG4gIHZhciBjdXJ2YXR1cmUgPSBBcnJheS5pc0FycmF5KGN1cnZlKSA/IGN1cnZlIDogW2N1cnZlLCBjdXJ2ZV07XG4gIHZhciBjdXJ2ZVggPSBkeCAvIDIgKiBjdXJ2YXR1cmVbMF07XG4gIHZhciBjdXJ2ZVkgPSBkeSAvIDIgKiBjdXJ2YXR1cmVbMV07XG4gIHJldHVybiBcIk1cIi5jb25jYXQoMCwgXCIsXCIsIDAsIFwiIFFcIiwgLWR4IC8gMiAtIGN1cnZlWCwgXCIsXCIpLmNvbmNhdCgtZHkgLyAyICsgY3VydmVZLCBcIiBcIikuY29uY2F0KC1keCwgXCIsXCIpLmNvbmNhdCgtZHkpO1xufVxuZnVuY3Rpb24gaXNTdHJpbmcoZ2VvKSB7XG4gIHJldHVybiB0eXBlb2YgZ2VvID09PSBcInN0cmluZ1wiO1xufVxuXG5mdW5jdGlvbiB1c2VHZW9ncmFwaGllcyhfcmVmKSB7XG4gIHZhciBnZW9ncmFwaHkgPSBfcmVmLmdlb2dyYXBoeSxcbiAgICAgIHBhcnNlR2VvZ3JhcGhpZXMgPSBfcmVmLnBhcnNlR2VvZ3JhcGhpZXM7XG5cbiAgdmFyIF91c2VDb250ZXh0ID0gdXNlQ29udGV4dChNYXBDb250ZXh0KSxcbiAgICAgIHBhdGggPSBfdXNlQ29udGV4dC5wYXRoO1xuXG4gIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZSh7fSksXG4gICAgICBfdXNlU3RhdGUyID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlLCAyKSxcbiAgICAgIG91dHB1dCA9IF91c2VTdGF0ZTJbMF0sXG4gICAgICBzZXRPdXRwdXQgPSBfdXNlU3RhdGUyWzFdO1xuXG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCh0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2Yod2luZG93KSkgPT09IFwidW5kZWZpbmVkXCIpIHJldHVybjtcbiAgICBpZiAoIWdlb2dyYXBoeSkgcmV0dXJuO1xuXG4gICAgaWYgKGlzU3RyaW5nKGdlb2dyYXBoeSkpIHtcbiAgICAgIGZldGNoR2VvZ3JhcGhpZXMoZ2VvZ3JhcGh5KS50aGVuKGZ1bmN0aW9uIChnZW9zKSB7XG4gICAgICAgIGlmIChnZW9zKSB7XG4gICAgICAgICAgc2V0T3V0cHV0KHtcbiAgICAgICAgICAgIGdlb2dyYXBoaWVzOiBnZXRGZWF0dXJlcyhnZW9zLCBwYXJzZUdlb2dyYXBoaWVzKSxcbiAgICAgICAgICAgIG1lc2g6IGdldE1lc2goZ2VvcylcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldE91dHB1dCh7XG4gICAgICAgIGdlb2dyYXBoaWVzOiBnZXRGZWF0dXJlcyhnZW9ncmFwaHksIHBhcnNlR2VvZ3JhcGhpZXMpLFxuICAgICAgICBtZXNoOiBnZXRNZXNoKGdlb2dyYXBoeSlcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW2dlb2dyYXBoeSwgcGFyc2VHZW9ncmFwaGllc10pO1xuXG4gIHZhciBfdXNlTWVtbyA9IHVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgIHZhciBtZXNoID0gb3V0cHV0Lm1lc2ggfHwge307XG4gICAgdmFyIHByZXBhcmVkTWVzaCA9IHByZXBhcmVNZXNoKG1lc2gub3V0bGluZSwgbWVzaC5ib3JkZXJzLCBwYXRoKTtcbiAgICByZXR1cm4ge1xuICAgICAgZ2VvZ3JhcGhpZXM6IHByZXBhcmVGZWF0dXJlcyhvdXRwdXQuZ2VvZ3JhcGhpZXMsIHBhdGgpLFxuICAgICAgb3V0bGluZTogcHJlcGFyZWRNZXNoLm91dGxpbmUsXG4gICAgICBib3JkZXJzOiBwcmVwYXJlZE1lc2guYm9yZGVyc1xuICAgIH07XG4gIH0sIFtvdXRwdXQsIHBhdGhdKSxcbiAgICAgIGdlb2dyYXBoaWVzID0gX3VzZU1lbW8uZ2VvZ3JhcGhpZXMsXG4gICAgICBvdXRsaW5lID0gX3VzZU1lbW8ub3V0bGluZSxcbiAgICAgIGJvcmRlcnMgPSBfdXNlTWVtby5ib3JkZXJzO1xuXG4gIHJldHVybiB7XG4gICAgZ2VvZ3JhcGhpZXM6IGdlb2dyYXBoaWVzLFxuICAgIG91dGxpbmU6IG91dGxpbmUsXG4gICAgYm9yZGVyczogYm9yZGVyc1xuICB9O1xufVxuXG52YXIgX2V4Y2x1ZGVkJDggPSBbXCJnZW9ncmFwaHlcIiwgXCJjaGlsZHJlblwiLCBcInBhcnNlR2VvZ3JhcGhpZXNcIiwgXCJjbGFzc05hbWVcIl07XG52YXIgR2VvZ3JhcGhpZXMgPSBmb3J3YXJkUmVmKGZ1bmN0aW9uIChfcmVmLCByZWYpIHtcbiAgdmFyIGdlb2dyYXBoeSA9IF9yZWYuZ2VvZ3JhcGh5LFxuICAgICAgY2hpbGRyZW4gPSBfcmVmLmNoaWxkcmVuLFxuICAgICAgcGFyc2VHZW9ncmFwaGllcyA9IF9yZWYucGFyc2VHZW9ncmFwaGllcyxcbiAgICAgIF9yZWYkY2xhc3NOYW1lID0gX3JlZi5jbGFzc05hbWUsXG4gICAgICBjbGFzc05hbWUgPSBfcmVmJGNsYXNzTmFtZSA9PT0gdm9pZCAwID8gXCJcIiA6IF9yZWYkY2xhc3NOYW1lLFxuICAgICAgcmVzdFByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9yZWYsIF9leGNsdWRlZCQ4KTtcblxuICB2YXIgX3VzZUNvbnRleHQgPSB1c2VDb250ZXh0KE1hcENvbnRleHQpLFxuICAgICAgcGF0aCA9IF91c2VDb250ZXh0LnBhdGgsXG4gICAgICBwcm9qZWN0aW9uID0gX3VzZUNvbnRleHQucHJvamVjdGlvbjtcblxuICB2YXIgX3VzZUdlb2dyYXBoaWVzID0gdXNlR2VvZ3JhcGhpZXMoe1xuICAgIGdlb2dyYXBoeTogZ2VvZ3JhcGh5LFxuICAgIHBhcnNlR2VvZ3JhcGhpZXM6IHBhcnNlR2VvZ3JhcGhpZXNcbiAgfSksXG4gICAgICBnZW9ncmFwaGllcyA9IF91c2VHZW9ncmFwaGllcy5nZW9ncmFwaGllcyxcbiAgICAgIG91dGxpbmUgPSBfdXNlR2VvZ3JhcGhpZXMub3V0bGluZSxcbiAgICAgIGJvcmRlcnMgPSBfdXNlR2VvZ3JhcGhpZXMuYm9yZGVycztcblxuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJnXCIsIF9leHRlbmRzKHtcbiAgICByZWY6IHJlZixcbiAgICBjbGFzc05hbWU6IFwicnNtLWdlb2dyYXBoaWVzIFwiLmNvbmNhdChjbGFzc05hbWUpXG4gIH0sIHJlc3RQcm9wcyksIGdlb2dyYXBoaWVzICYmIGdlb2dyYXBoaWVzLmxlbmd0aCA+IDAgJiYgY2hpbGRyZW4oe1xuICAgIGdlb2dyYXBoaWVzOiBnZW9ncmFwaGllcyxcbiAgICBvdXRsaW5lOiBvdXRsaW5lLFxuICAgIGJvcmRlcnM6IGJvcmRlcnMsXG4gICAgcGF0aDogcGF0aCxcbiAgICBwcm9qZWN0aW9uOiBwcm9qZWN0aW9uXG4gIH0pKTtcbn0pO1xuR2VvZ3JhcGhpZXMuZGlzcGxheU5hbWUgPSBcIkdlb2dyYXBoaWVzXCI7XG5HZW9ncmFwaGllcy5wcm9wVHlwZXMgPSB7XG4gIGdlb2dyYXBoeTogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLm9iamVjdCwgUHJvcFR5cGVzLmFycmF5XSksXG4gIGNoaWxkcmVuOiBQcm9wVHlwZXMuZnVuYyxcbiAgcGFyc2VHZW9ncmFwaGllczogUHJvcFR5cGVzLmZ1bmMsXG4gIGNsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZ1xufTtcblxudmFyIF9leGNsdWRlZCQ3ID0gW1wiZ2VvZ3JhcGh5XCIsIFwib25Nb3VzZUVudGVyXCIsIFwib25Nb3VzZUxlYXZlXCIsIFwib25Nb3VzZURvd25cIiwgXCJvbk1vdXNlVXBcIiwgXCJvbkZvY3VzXCIsIFwib25CbHVyXCIsIFwic3R5bGVcIiwgXCJjbGFzc05hbWVcIl07XG52YXIgR2VvZ3JhcGh5ID0gZm9yd2FyZFJlZihmdW5jdGlvbiAoX3JlZiwgcmVmKSB7XG4gIHZhciBnZW9ncmFwaHkgPSBfcmVmLmdlb2dyYXBoeSxcbiAgICAgIG9uTW91c2VFbnRlciA9IF9yZWYub25Nb3VzZUVudGVyLFxuICAgICAgb25Nb3VzZUxlYXZlID0gX3JlZi5vbk1vdXNlTGVhdmUsXG4gICAgICBvbk1vdXNlRG93biA9IF9yZWYub25Nb3VzZURvd24sXG4gICAgICBvbk1vdXNlVXAgPSBfcmVmLm9uTW91c2VVcCxcbiAgICAgIG9uRm9jdXMgPSBfcmVmLm9uRm9jdXMsXG4gICAgICBvbkJsdXIgPSBfcmVmLm9uQmx1cixcbiAgICAgIF9yZWYkc3R5bGUgPSBfcmVmLnN0eWxlLFxuICAgICAgc3R5bGUgPSBfcmVmJHN0eWxlID09PSB2b2lkIDAgPyB7fSA6IF9yZWYkc3R5bGUsXG4gICAgICBfcmVmJGNsYXNzTmFtZSA9IF9yZWYuY2xhc3NOYW1lLFxuICAgICAgY2xhc3NOYW1lID0gX3JlZiRjbGFzc05hbWUgPT09IHZvaWQgMCA/IFwiXCIgOiBfcmVmJGNsYXNzTmFtZSxcbiAgICAgIHJlc3RQcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcmVmLCBfZXhjbHVkZWQkNyk7XG5cbiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKGZhbHNlKSxcbiAgICAgIF91c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUsIDIpLFxuICAgICAgaXNQcmVzc2VkID0gX3VzZVN0YXRlMlswXSxcbiAgICAgIHNldFByZXNzZWQgPSBfdXNlU3RhdGUyWzFdO1xuXG4gIHZhciBfdXNlU3RhdGUzID0gdXNlU3RhdGUoZmFsc2UpLFxuICAgICAgX3VzZVN0YXRlNCA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTMsIDIpLFxuICAgICAgaXNGb2N1c2VkID0gX3VzZVN0YXRlNFswXSxcbiAgICAgIHNldEZvY3VzID0gX3VzZVN0YXRlNFsxXTtcblxuICBmdW5jdGlvbiBoYW5kbGVNb3VzZUVudGVyKGV2dCkge1xuICAgIHNldEZvY3VzKHRydWUpO1xuICAgIGlmIChvbk1vdXNlRW50ZXIpIG9uTW91c2VFbnRlcihldnQpO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlTW91c2VMZWF2ZShldnQpIHtcbiAgICBzZXRGb2N1cyhmYWxzZSk7XG4gICAgaWYgKGlzUHJlc3NlZCkgc2V0UHJlc3NlZChmYWxzZSk7XG4gICAgaWYgKG9uTW91c2VMZWF2ZSkgb25Nb3VzZUxlYXZlKGV2dCk7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVGb2N1cyhldnQpIHtcbiAgICBzZXRGb2N1cyh0cnVlKTtcbiAgICBpZiAob25Gb2N1cykgb25Gb2N1cyhldnQpO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlQmx1cihldnQpIHtcbiAgICBzZXRGb2N1cyhmYWxzZSk7XG4gICAgaWYgKGlzUHJlc3NlZCkgc2V0UHJlc3NlZChmYWxzZSk7XG4gICAgaWYgKG9uQmx1cikgb25CbHVyKGV2dCk7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVNb3VzZURvd24oZXZ0KSB7XG4gICAgc2V0UHJlc3NlZCh0cnVlKTtcbiAgICBpZiAob25Nb3VzZURvd24pIG9uTW91c2VEb3duKGV2dCk7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVNb3VzZVVwKGV2dCkge1xuICAgIHNldFByZXNzZWQoZmFsc2UpO1xuICAgIGlmIChvbk1vdXNlVXApIG9uTW91c2VVcChldnQpO1xuICB9XG5cbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCBfZXh0ZW5kcyh7XG4gICAgcmVmOiByZWYsXG4gICAgdGFiSW5kZXg6IFwiMFwiLFxuICAgIGNsYXNzTmFtZTogXCJyc20tZ2VvZ3JhcGh5IFwiLmNvbmNhdChjbGFzc05hbWUpLFxuICAgIGQ6IGdlb2dyYXBoeS5zdmdQYXRoLFxuICAgIG9uTW91c2VFbnRlcjogaGFuZGxlTW91c2VFbnRlcixcbiAgICBvbk1vdXNlTGVhdmU6IGhhbmRsZU1vdXNlTGVhdmUsXG4gICAgb25Gb2N1czogaGFuZGxlRm9jdXMsXG4gICAgb25CbHVyOiBoYW5kbGVCbHVyLFxuICAgIG9uTW91c2VEb3duOiBoYW5kbGVNb3VzZURvd24sXG4gICAgb25Nb3VzZVVwOiBoYW5kbGVNb3VzZVVwLFxuICAgIHN0eWxlOiBzdHlsZVtpc1ByZXNzZWQgfHwgaXNGb2N1c2VkID8gaXNQcmVzc2VkID8gXCJwcmVzc2VkXCIgOiBcImhvdmVyXCIgOiBcImRlZmF1bHRcIl1cbiAgfSwgcmVzdFByb3BzKSk7XG59KTtcbkdlb2dyYXBoeS5kaXNwbGF5TmFtZSA9IFwiR2VvZ3JhcGh5XCI7XG5HZW9ncmFwaHkucHJvcFR5cGVzID0ge1xuICBnZW9ncmFwaHk6IFByb3BUeXBlcy5vYmplY3QsXG4gIG9uTW91c2VFbnRlcjogUHJvcFR5cGVzLmZ1bmMsXG4gIG9uTW91c2VMZWF2ZTogUHJvcFR5cGVzLmZ1bmMsXG4gIG9uTW91c2VEb3duOiBQcm9wVHlwZXMuZnVuYyxcbiAgb25Nb3VzZVVwOiBQcm9wVHlwZXMuZnVuYyxcbiAgb25Gb2N1czogUHJvcFR5cGVzLmZ1bmMsXG4gIG9uQmx1cjogUHJvcFR5cGVzLmZ1bmMsXG4gIHN0eWxlOiBQcm9wVHlwZXMub2JqZWN0LFxuICBjbGFzc05hbWU6IFByb3BUeXBlcy5zdHJpbmdcbn07XG52YXIgR2VvZ3JhcGh5JDEgPSBtZW1vKEdlb2dyYXBoeSk7XG5cbnZhciBfZXhjbHVkZWQkNiA9IFtcImZpbGxcIiwgXCJzdHJva2VcIiwgXCJzdGVwXCIsIFwiY2xhc3NOYW1lXCJdO1xudmFyIEdyYXRpY3VsZSA9IGZvcndhcmRSZWYoZnVuY3Rpb24gKF9yZWYsIHJlZikge1xuICB2YXIgX3JlZiRmaWxsID0gX3JlZi5maWxsLFxuICAgICAgZmlsbCA9IF9yZWYkZmlsbCA9PT0gdm9pZCAwID8gXCJ0cmFuc3BhcmVudFwiIDogX3JlZiRmaWxsLFxuICAgICAgX3JlZiRzdHJva2UgPSBfcmVmLnN0cm9rZSxcbiAgICAgIHN0cm9rZSA9IF9yZWYkc3Ryb2tlID09PSB2b2lkIDAgPyBcImN1cnJlbnRjb2xvclwiIDogX3JlZiRzdHJva2UsXG4gICAgICBfcmVmJHN0ZXAgPSBfcmVmLnN0ZXAsXG4gICAgICBzdGVwID0gX3JlZiRzdGVwID09PSB2b2lkIDAgPyBbMTAsIDEwXSA6IF9yZWYkc3RlcCxcbiAgICAgIF9yZWYkY2xhc3NOYW1lID0gX3JlZi5jbGFzc05hbWUsXG4gICAgICBjbGFzc05hbWUgPSBfcmVmJGNsYXNzTmFtZSA9PT0gdm9pZCAwID8gXCJcIiA6IF9yZWYkY2xhc3NOYW1lLFxuICAgICAgcmVzdFByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9yZWYsIF9leGNsdWRlZCQ2KTtcblxuICB2YXIgX3VzZUNvbnRleHQgPSB1c2VDb250ZXh0KE1hcENvbnRleHQpLFxuICAgICAgcGF0aCA9IF91c2VDb250ZXh0LnBhdGg7XG5cbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCBfZXh0ZW5kcyh7XG4gICAgcmVmOiByZWYsXG4gICAgZDogcGF0aChnZW9HcmF0aWN1bGUoKS5zdGVwKHN0ZXApKCkpLFxuICAgIGZpbGw6IGZpbGwsXG4gICAgc3Ryb2tlOiBzdHJva2UsXG4gICAgY2xhc3NOYW1lOiBcInJzbS1ncmF0aWN1bGUgXCIuY29uY2F0KGNsYXNzTmFtZSlcbiAgfSwgcmVzdFByb3BzKSk7XG59KTtcbkdyYXRpY3VsZS5kaXNwbGF5TmFtZSA9IFwiR3JhdGljdWxlXCI7XG5HcmF0aWN1bGUucHJvcFR5cGVzID0ge1xuICBmaWxsOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBzdHJva2U6IFByb3BUeXBlcy5zdHJpbmcsXG4gIHN0ZXA6IFByb3BUeXBlcy5hcnJheSxcbiAgY2xhc3NOYW1lOiBQcm9wVHlwZXMuc3RyaW5nXG59O1xudmFyIEdyYXRpY3VsZSQxID0gbWVtbyhHcmF0aWN1bGUpO1xuXG52YXIgX2V4Y2x1ZGVkJDUgPSBbXCJ2YWx1ZVwiXTtcbnZhciBab29tUGFuQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQoKTtcbnZhciBkZWZhdWx0VmFsdWUgPSB7XG4gIHg6IDAsXG4gIHk6IDAsXG4gIGs6IDEsXG4gIHRyYW5zZm9ybVN0cmluZzogXCJ0cmFuc2xhdGUoMCAwKSBzY2FsZSgxKVwiXG59O1xuXG52YXIgWm9vbVBhblByb3ZpZGVyID0gZnVuY3Rpb24gWm9vbVBhblByb3ZpZGVyKF9yZWYpIHtcbiAgdmFyIF9yZWYkdmFsdWUgPSBfcmVmLnZhbHVlLFxuICAgICAgdmFsdWUgPSBfcmVmJHZhbHVlID09PSB2b2lkIDAgPyBkZWZhdWx0VmFsdWUgOiBfcmVmJHZhbHVlLFxuICAgICAgcmVzdFByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9yZWYsIF9leGNsdWRlZCQ1KTtcblxuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoWm9vbVBhbkNvbnRleHQuUHJvdmlkZXIsIF9leHRlbmRzKHtcbiAgICB2YWx1ZTogdmFsdWVcbiAgfSwgcmVzdFByb3BzKSk7XG59O1xuXG5ab29tUGFuUHJvdmlkZXIucHJvcFR5cGVzID0ge1xuICB4OiBQcm9wVHlwZXMubnVtYmVyLFxuICB5OiBQcm9wVHlwZXMubnVtYmVyLFxuICBrOiBQcm9wVHlwZXMubnVtYmVyLFxuICB0cmFuc2Zvcm1TdHJpbmc6IFByb3BUeXBlcy5zdHJpbmdcbn07XG5cbnZhciB1c2Vab29tUGFuQ29udGV4dCA9IGZ1bmN0aW9uIHVzZVpvb21QYW5Db250ZXh0KCkge1xuICByZXR1cm4gdXNlQ29udGV4dChab29tUGFuQ29udGV4dCk7XG59O1xuXG5mdW5jdGlvbiB1c2Vab29tUGFuKF9yZWYpIHtcbiAgdmFyIGNlbnRlciA9IF9yZWYuY2VudGVyLFxuICAgICAgZmlsdGVyWm9vbUV2ZW50ID0gX3JlZi5maWx0ZXJab29tRXZlbnQsXG4gICAgICBvbk1vdmVTdGFydCA9IF9yZWYub25Nb3ZlU3RhcnQsXG4gICAgICBvbk1vdmVFbmQgPSBfcmVmLm9uTW92ZUVuZCxcbiAgICAgIG9uTW92ZSA9IF9yZWYub25Nb3ZlLFxuICAgICAgX3JlZiR0cmFuc2xhdGVFeHRlbnQgPSBfcmVmLnRyYW5zbGF0ZUV4dGVudCxcbiAgICAgIHRyYW5zbGF0ZUV4dGVudCA9IF9yZWYkdHJhbnNsYXRlRXh0ZW50ID09PSB2b2lkIDAgPyBbWy1JbmZpbml0eSwgLUluZmluaXR5XSwgW0luZmluaXR5LCBJbmZpbml0eV1dIDogX3JlZiR0cmFuc2xhdGVFeHRlbnQsXG4gICAgICBfcmVmJHNjYWxlRXh0ZW50ID0gX3JlZi5zY2FsZUV4dGVudCxcbiAgICAgIHNjYWxlRXh0ZW50ID0gX3JlZiRzY2FsZUV4dGVudCA9PT0gdm9pZCAwID8gWzEsIDhdIDogX3JlZiRzY2FsZUV4dGVudCxcbiAgICAgIF9yZWYkem9vbSA9IF9yZWYuem9vbSxcbiAgICAgIHpvb20kMSA9IF9yZWYkem9vbSA9PT0gdm9pZCAwID8gMSA6IF9yZWYkem9vbTtcblxuICB2YXIgX3VzZUNvbnRleHQgPSB1c2VDb250ZXh0KE1hcENvbnRleHQpLFxuICAgICAgd2lkdGggPSBfdXNlQ29udGV4dC53aWR0aCxcbiAgICAgIGhlaWdodCA9IF91c2VDb250ZXh0LmhlaWdodCxcbiAgICAgIHByb2plY3Rpb24gPSBfdXNlQ29udGV4dC5wcm9qZWN0aW9uO1xuXG4gIHZhciBfY2VudGVyID0gX3NsaWNlZFRvQXJyYXkoY2VudGVyLCAyKSxcbiAgICAgIGxvbiA9IF9jZW50ZXJbMF0sXG4gICAgICBsYXQgPSBfY2VudGVyWzFdO1xuXG4gIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZSh7XG4gICAgeDogMCxcbiAgICB5OiAwLFxuICAgIGs6IDFcbiAgfSksXG4gICAgICBfdXNlU3RhdGUyID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlLCAyKSxcbiAgICAgIHBvc2l0aW9uID0gX3VzZVN0YXRlMlswXSxcbiAgICAgIHNldFBvc2l0aW9uID0gX3VzZVN0YXRlMlsxXTtcblxuICB2YXIgbGFzdFBvc2l0aW9uID0gdXNlUmVmKHtcbiAgICB4OiAwLFxuICAgIHk6IDAsXG4gICAgazogMVxuICB9KTtcbiAgdmFyIG1hcFJlZiA9IHVzZVJlZigpO1xuICB2YXIgem9vbVJlZiA9IHVzZVJlZigpO1xuICB2YXIgYnlwYXNzRXZlbnRzID0gdXNlUmVmKGZhbHNlKTtcblxuICB2YXIgX3RyYW5zbGF0ZUV4dGVudCA9IF9zbGljZWRUb0FycmF5KHRyYW5zbGF0ZUV4dGVudCwgMiksXG4gICAgICBhID0gX3RyYW5zbGF0ZUV4dGVudFswXSxcbiAgICAgIGIgPSBfdHJhbnNsYXRlRXh0ZW50WzFdO1xuXG4gIHZhciBfYSA9IF9zbGljZWRUb0FycmF5KGEsIDIpLFxuICAgICAgYTEgPSBfYVswXSxcbiAgICAgIGEyID0gX2FbMV07XG5cbiAgdmFyIF9iID0gX3NsaWNlZFRvQXJyYXkoYiwgMiksXG4gICAgICBiMSA9IF9iWzBdLFxuICAgICAgYjIgPSBfYlsxXTtcblxuICB2YXIgX3NjYWxlRXh0ZW50ID0gX3NsaWNlZFRvQXJyYXkoc2NhbGVFeHRlbnQsIDIpLFxuICAgICAgbWluWm9vbSA9IF9zY2FsZUV4dGVudFswXSxcbiAgICAgIG1heFpvb20gPSBfc2NhbGVFeHRlbnRbMV07XG5cbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc3ZnID0gc2VsZWN0KG1hcFJlZi5jdXJyZW50KTtcblxuICAgIGZ1bmN0aW9uIGhhbmRsZVpvb21TdGFydChkM0V2ZW50KSB7XG4gICAgICBpZiAoIW9uTW92ZVN0YXJ0IHx8IGJ5cGFzc0V2ZW50cy5jdXJyZW50KSByZXR1cm47XG4gICAgICBvbk1vdmVTdGFydCh7XG4gICAgICAgIGNvb3JkaW5hdGVzOiBwcm9qZWN0aW9uLmludmVydChnZXRDb29yZHMod2lkdGgsIGhlaWdodCwgZDNFdmVudC50cmFuc2Zvcm0pKSxcbiAgICAgICAgem9vbTogZDNFdmVudC50cmFuc2Zvcm0ua1xuICAgICAgfSwgZDNFdmVudCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFuZGxlWm9vbShkM0V2ZW50KSB7XG4gICAgICBpZiAoYnlwYXNzRXZlbnRzLmN1cnJlbnQpIHJldHVybjtcbiAgICAgIHZhciB0cmFuc2Zvcm0gPSBkM0V2ZW50LnRyYW5zZm9ybSxcbiAgICAgICAgICBzb3VyY2VFdmVudCA9IGQzRXZlbnQuc291cmNlRXZlbnQ7XG4gICAgICBzZXRQb3NpdGlvbih7XG4gICAgICAgIHg6IHRyYW5zZm9ybS54LFxuICAgICAgICB5OiB0cmFuc2Zvcm0ueSxcbiAgICAgICAgazogdHJhbnNmb3JtLmssXG4gICAgICAgIGRyYWdnaW5nOiBzb3VyY2VFdmVudFxuICAgICAgfSk7XG4gICAgICBpZiAoIW9uTW92ZSkgcmV0dXJuO1xuICAgICAgb25Nb3ZlKHtcbiAgICAgICAgeDogdHJhbnNmb3JtLngsXG4gICAgICAgIHk6IHRyYW5zZm9ybS55LFxuICAgICAgICB6b29tOiB0cmFuc2Zvcm0uayxcbiAgICAgICAgZHJhZ2dpbmc6IHNvdXJjZUV2ZW50XG4gICAgICB9LCBkM0V2ZW50KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVab29tRW5kKGQzRXZlbnQpIHtcbiAgICAgIGlmIChieXBhc3NFdmVudHMuY3VycmVudCkge1xuICAgICAgICBieXBhc3NFdmVudHMuY3VycmVudCA9IGZhbHNlO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBfcHJvamVjdGlvbiRpbnZlcnQgPSBwcm9qZWN0aW9uLmludmVydChnZXRDb29yZHMod2lkdGgsIGhlaWdodCwgZDNFdmVudC50cmFuc2Zvcm0pKSxcbiAgICAgICAgICBfcHJvamVjdGlvbiRpbnZlcnQyID0gX3NsaWNlZFRvQXJyYXkoX3Byb2plY3Rpb24kaW52ZXJ0LCAyKSxcbiAgICAgICAgICB4ID0gX3Byb2plY3Rpb24kaW52ZXJ0MlswXSxcbiAgICAgICAgICB5ID0gX3Byb2plY3Rpb24kaW52ZXJ0MlsxXTtcblxuICAgICAgbGFzdFBvc2l0aW9uLmN1cnJlbnQgPSB7XG4gICAgICAgIHg6IHgsXG4gICAgICAgIHk6IHksXG4gICAgICAgIGs6IGQzRXZlbnQudHJhbnNmb3JtLmtcbiAgICAgIH07XG4gICAgICBpZiAoIW9uTW92ZUVuZCkgcmV0dXJuO1xuICAgICAgb25Nb3ZlRW5kKHtcbiAgICAgICAgY29vcmRpbmF0ZXM6IFt4LCB5XSxcbiAgICAgICAgem9vbTogZDNFdmVudC50cmFuc2Zvcm0ua1xuICAgICAgfSwgZDNFdmVudCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZmlsdGVyRnVuYyhkM0V2ZW50KSB7XG4gICAgICBpZiAoZmlsdGVyWm9vbUV2ZW50KSB7XG4gICAgICAgIHJldHVybiBmaWx0ZXJab29tRXZlbnQoZDNFdmVudCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkM0V2ZW50ID8gIWQzRXZlbnQuY3RybEtleSAmJiAhZDNFdmVudC5idXR0b24gOiBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgem9vbSQxID0gem9vbSgpLmZpbHRlcihmaWx0ZXJGdW5jKS5zY2FsZUV4dGVudChbbWluWm9vbSwgbWF4Wm9vbV0pLnRyYW5zbGF0ZUV4dGVudChbW2ExLCBhMl0sIFtiMSwgYjJdXSkub24oXCJzdGFydFwiLCBoYW5kbGVab29tU3RhcnQpLm9uKFwiem9vbVwiLCBoYW5kbGVab29tKS5vbihcImVuZFwiLCBoYW5kbGVab29tRW5kKTtcbiAgICB6b29tUmVmLmN1cnJlbnQgPSB6b29tJDE7XG4gICAgc3ZnLmNhbGwoem9vbSQxKTtcbiAgfSwgW3dpZHRoLCBoZWlnaHQsIGExLCBhMiwgYjEsIGIyLCBtaW5ab29tLCBtYXhab29tLCBwcm9qZWN0aW9uLCBvbk1vdmVTdGFydCwgb25Nb3ZlLCBvbk1vdmVFbmQsIGZpbHRlclpvb21FdmVudF0pO1xuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlmIChsb24gPT09IGxhc3RQb3NpdGlvbi5jdXJyZW50LnggJiYgbGF0ID09PSBsYXN0UG9zaXRpb24uY3VycmVudC55ICYmIHpvb20kMSA9PT0gbGFzdFBvc2l0aW9uLmN1cnJlbnQuaykgcmV0dXJuO1xuICAgIHZhciBjb29yZHMgPSBwcm9qZWN0aW9uKFtsb24sIGxhdF0pO1xuICAgIHZhciB4ID0gY29vcmRzWzBdICogem9vbSQxO1xuICAgIHZhciB5ID0gY29vcmRzWzFdICogem9vbSQxO1xuICAgIHZhciBzdmcgPSBzZWxlY3QobWFwUmVmLmN1cnJlbnQpO1xuICAgIGJ5cGFzc0V2ZW50cy5jdXJyZW50ID0gdHJ1ZTtcbiAgICBzdmcuY2FsbCh6b29tUmVmLmN1cnJlbnQudHJhbnNmb3JtLCB6b29tSWRlbnRpdHkudHJhbnNsYXRlKHdpZHRoIC8gMiAtIHgsIGhlaWdodCAvIDIgLSB5KS5zY2FsZSh6b29tJDEpKTtcbiAgICBzZXRQb3NpdGlvbih7XG4gICAgICB4OiB3aWR0aCAvIDIgLSB4LFxuICAgICAgeTogaGVpZ2h0IC8gMiAtIHksXG4gICAgICBrOiB6b29tJDFcbiAgICB9KTtcbiAgICBsYXN0UG9zaXRpb24uY3VycmVudCA9IHtcbiAgICAgIHg6IGxvbixcbiAgICAgIHk6IGxhdCxcbiAgICAgIGs6IHpvb20kMVxuICAgIH07XG4gIH0sIFtsb24sIGxhdCwgem9vbSQxLCB3aWR0aCwgaGVpZ2h0LCBwcm9qZWN0aW9uXSk7XG4gIHJldHVybiB7XG4gICAgbWFwUmVmOiBtYXBSZWYsXG4gICAgcG9zaXRpb246IHBvc2l0aW9uLFxuICAgIHRyYW5zZm9ybVN0cmluZzogXCJ0cmFuc2xhdGUoXCIuY29uY2F0KHBvc2l0aW9uLngsIFwiIFwiKS5jb25jYXQocG9zaXRpb24ueSwgXCIpIHNjYWxlKFwiKS5jb25jYXQocG9zaXRpb24uaywgXCIpXCIpXG4gIH07XG59XG5cbnZhciBfZXhjbHVkZWQkNCA9IFtcImNlbnRlclwiLCBcInpvb21cIiwgXCJtaW5ab29tXCIsIFwibWF4Wm9vbVwiLCBcInRyYW5zbGF0ZUV4dGVudFwiLCBcImZpbHRlclpvb21FdmVudFwiLCBcIm9uTW92ZVN0YXJ0XCIsIFwib25Nb3ZlXCIsIFwib25Nb3ZlRW5kXCIsIFwiY2xhc3NOYW1lXCJdO1xudmFyIFpvb21hYmxlR3JvdXAgPSBmb3J3YXJkUmVmKGZ1bmN0aW9uIChfcmVmLCByZWYpIHtcbiAgdmFyIF9yZWYkY2VudGVyID0gX3JlZi5jZW50ZXIsXG4gICAgICBjZW50ZXIgPSBfcmVmJGNlbnRlciA9PT0gdm9pZCAwID8gWzAsIDBdIDogX3JlZiRjZW50ZXIsXG4gICAgICBfcmVmJHpvb20gPSBfcmVmLnpvb20sXG4gICAgICB6b29tID0gX3JlZiR6b29tID09PSB2b2lkIDAgPyAxIDogX3JlZiR6b29tLFxuICAgICAgX3JlZiRtaW5ab29tID0gX3JlZi5taW5ab29tLFxuICAgICAgbWluWm9vbSA9IF9yZWYkbWluWm9vbSA9PT0gdm9pZCAwID8gMSA6IF9yZWYkbWluWm9vbSxcbiAgICAgIF9yZWYkbWF4Wm9vbSA9IF9yZWYubWF4Wm9vbSxcbiAgICAgIG1heFpvb20gPSBfcmVmJG1heFpvb20gPT09IHZvaWQgMCA/IDggOiBfcmVmJG1heFpvb20sXG4gICAgICB0cmFuc2xhdGVFeHRlbnQgPSBfcmVmLnRyYW5zbGF0ZUV4dGVudCxcbiAgICAgIGZpbHRlclpvb21FdmVudCA9IF9yZWYuZmlsdGVyWm9vbUV2ZW50LFxuICAgICAgb25Nb3ZlU3RhcnQgPSBfcmVmLm9uTW92ZVN0YXJ0LFxuICAgICAgb25Nb3ZlID0gX3JlZi5vbk1vdmUsXG4gICAgICBvbk1vdmVFbmQgPSBfcmVmLm9uTW92ZUVuZCxcbiAgICAgIGNsYXNzTmFtZSA9IF9yZWYuY2xhc3NOYW1lLFxuICAgICAgcmVzdFByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9yZWYsIF9leGNsdWRlZCQ0KTtcblxuICB2YXIgX3VzZUNvbnRleHQgPSB1c2VDb250ZXh0KE1hcENvbnRleHQpLFxuICAgICAgd2lkdGggPSBfdXNlQ29udGV4dC53aWR0aCxcbiAgICAgIGhlaWdodCA9IF91c2VDb250ZXh0LmhlaWdodDtcblxuICB2YXIgX3VzZVpvb21QYW4gPSB1c2Vab29tUGFuKHtcbiAgICBjZW50ZXI6IGNlbnRlcixcbiAgICBmaWx0ZXJab29tRXZlbnQ6IGZpbHRlclpvb21FdmVudCxcbiAgICBvbk1vdmVTdGFydDogb25Nb3ZlU3RhcnQsXG4gICAgb25Nb3ZlOiBvbk1vdmUsXG4gICAgb25Nb3ZlRW5kOiBvbk1vdmVFbmQsXG4gICAgc2NhbGVFeHRlbnQ6IFttaW5ab29tLCBtYXhab29tXSxcbiAgICB0cmFuc2xhdGVFeHRlbnQ6IHRyYW5zbGF0ZUV4dGVudCxcbiAgICB6b29tOiB6b29tXG4gIH0pLFxuICAgICAgbWFwUmVmID0gX3VzZVpvb21QYW4ubWFwUmVmLFxuICAgICAgdHJhbnNmb3JtU3RyaW5nID0gX3VzZVpvb21QYW4udHJhbnNmb3JtU3RyaW5nLFxuICAgICAgcG9zaXRpb24gPSBfdXNlWm9vbVBhbi5wb3NpdGlvbjtcblxuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoWm9vbVBhblByb3ZpZGVyLCB7XG4gICAgdmFsdWU6IHtcbiAgICAgIHg6IHBvc2l0aW9uLngsXG4gICAgICB5OiBwb3NpdGlvbi55LFxuICAgICAgazogcG9zaXRpb24uayxcbiAgICAgIHRyYW5zZm9ybVN0cmluZzogdHJhbnNmb3JtU3RyaW5nXG4gICAgfVxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImdcIiwge1xuICAgIHJlZjogbWFwUmVmXG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicmVjdFwiLCB7XG4gICAgd2lkdGg6IHdpZHRoLFxuICAgIGhlaWdodDogaGVpZ2h0LFxuICAgIGZpbGw6IFwidHJhbnNwYXJlbnRcIlxuICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJnXCIsIF9leHRlbmRzKHtcbiAgICByZWY6IHJlZixcbiAgICB0cmFuc2Zvcm06IHRyYW5zZm9ybVN0cmluZyxcbiAgICBjbGFzc05hbWU6IFwicnNtLXpvb21hYmxlLWdyb3VwIFwiLmNvbmNhdChjbGFzc05hbWUpXG4gIH0sIHJlc3RQcm9wcykpKSk7XG59KTtcblpvb21hYmxlR3JvdXAuZGlzcGxheU5hbWUgPSBcIlpvb21hYmxlR3JvdXBcIjtcblpvb21hYmxlR3JvdXAucHJvcFR5cGVzID0ge1xuICBjZW50ZXI6IFByb3BUeXBlcy5hcnJheSxcbiAgem9vbTogUHJvcFR5cGVzLm51bWJlcixcbiAgbWluWm9vbTogUHJvcFR5cGVzLm51bWJlcixcbiAgbWF4Wm9vbTogUHJvcFR5cGVzLm51bWJlcixcbiAgdHJhbnNsYXRlRXh0ZW50OiBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMuYXJyYXkpLFxuICBvbk1vdmVTdGFydDogUHJvcFR5cGVzLmZ1bmMsXG4gIG9uTW92ZTogUHJvcFR5cGVzLmZ1bmMsXG4gIG9uTW92ZUVuZDogUHJvcFR5cGVzLmZ1bmMsXG4gIGNsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZ1xufTtcblxudmFyIF9leGNsdWRlZCQzID0gW1wiaWRcIiwgXCJmaWxsXCIsIFwic3Ryb2tlXCIsIFwic3Ryb2tlV2lkdGhcIiwgXCJjbGFzc05hbWVcIl07XG52YXIgU3BoZXJlID0gZm9yd2FyZFJlZihmdW5jdGlvbiAoX3JlZiwgcmVmKSB7XG4gIHZhciBfcmVmJGlkID0gX3JlZi5pZCxcbiAgICAgIGlkID0gX3JlZiRpZCA9PT0gdm9pZCAwID8gXCJyc20tc3BoZXJlXCIgOiBfcmVmJGlkLFxuICAgICAgX3JlZiRmaWxsID0gX3JlZi5maWxsLFxuICAgICAgZmlsbCA9IF9yZWYkZmlsbCA9PT0gdm9pZCAwID8gXCJ0cmFuc3BhcmVudFwiIDogX3JlZiRmaWxsLFxuICAgICAgX3JlZiRzdHJva2UgPSBfcmVmLnN0cm9rZSxcbiAgICAgIHN0cm9rZSA9IF9yZWYkc3Ryb2tlID09PSB2b2lkIDAgPyBcImN1cnJlbnRjb2xvclwiIDogX3JlZiRzdHJva2UsXG4gICAgICBfcmVmJHN0cm9rZVdpZHRoID0gX3JlZi5zdHJva2VXaWR0aCxcbiAgICAgIHN0cm9rZVdpZHRoID0gX3JlZiRzdHJva2VXaWR0aCA9PT0gdm9pZCAwID8gMC41IDogX3JlZiRzdHJva2VXaWR0aCxcbiAgICAgIF9yZWYkY2xhc3NOYW1lID0gX3JlZi5jbGFzc05hbWUsXG4gICAgICBjbGFzc05hbWUgPSBfcmVmJGNsYXNzTmFtZSA9PT0gdm9pZCAwID8gXCJcIiA6IF9yZWYkY2xhc3NOYW1lLFxuICAgICAgcmVzdFByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9yZWYsIF9leGNsdWRlZCQzKTtcblxuICB2YXIgX3VzZUNvbnRleHQgPSB1c2VDb250ZXh0KE1hcENvbnRleHQpLFxuICAgICAgcGF0aCA9IF91c2VDb250ZXh0LnBhdGg7XG5cbiAgdmFyIHNwaGVyZVBhdGggPSB1c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gcGF0aCh7XG4gICAgICB0eXBlOiBcIlNwaGVyZVwiXG4gICAgfSk7XG4gIH0sIFtwYXRoXSk7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChGcmFnbWVudCwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkZWZzXCIsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiY2xpcFBhdGhcIiwge1xuICAgIGlkOiBpZFxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGQ6IHNwaGVyZVBhdGhcbiAgfSkpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIF9leHRlbmRzKHtcbiAgICByZWY6IHJlZixcbiAgICBkOiBzcGhlcmVQYXRoLFxuICAgIGZpbGw6IGZpbGwsXG4gICAgc3Ryb2tlOiBzdHJva2UsXG4gICAgc3Ryb2tlV2lkdGg6IHN0cm9rZVdpZHRoLFxuICAgIHN0eWxlOiB7XG4gICAgICBwb2ludGVyRXZlbnRzOiBcIm5vbmVcIlxuICAgIH0sXG4gICAgY2xhc3NOYW1lOiBcInJzbS1zcGhlcmUgXCIuY29uY2F0KGNsYXNzTmFtZSlcbiAgfSwgcmVzdFByb3BzKSkpO1xufSk7XG5TcGhlcmUuZGlzcGxheU5hbWUgPSBcIlNwaGVyZVwiO1xuU3BoZXJlLnByb3BUeXBlcyA9IHtcbiAgaWQ6IFByb3BUeXBlcy5zdHJpbmcsXG4gIGZpbGw6IFByb3BUeXBlcy5zdHJpbmcsXG4gIHN0cm9rZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgc3Ryb2tlV2lkdGg6IFByb3BUeXBlcy5udW1iZXIsXG4gIGNsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZ1xufTtcbnZhciBTcGhlcmUkMSA9IG1lbW8oU3BoZXJlKTtcblxudmFyIF9leGNsdWRlZCQyID0gW1wiY29vcmRpbmF0ZXNcIiwgXCJjaGlsZHJlblwiLCBcIm9uTW91c2VFbnRlclwiLCBcIm9uTW91c2VMZWF2ZVwiLCBcIm9uTW91c2VEb3duXCIsIFwib25Nb3VzZVVwXCIsIFwib25Gb2N1c1wiLCBcIm9uQmx1clwiLCBcInN0eWxlXCIsIFwiY2xhc3NOYW1lXCJdO1xudmFyIE1hcmtlciA9IGZvcndhcmRSZWYoZnVuY3Rpb24gKF9yZWYsIHJlZikge1xuICB2YXIgY29vcmRpbmF0ZXMgPSBfcmVmLmNvb3JkaW5hdGVzLFxuICAgICAgY2hpbGRyZW4gPSBfcmVmLmNoaWxkcmVuLFxuICAgICAgb25Nb3VzZUVudGVyID0gX3JlZi5vbk1vdXNlRW50ZXIsXG4gICAgICBvbk1vdXNlTGVhdmUgPSBfcmVmLm9uTW91c2VMZWF2ZSxcbiAgICAgIG9uTW91c2VEb3duID0gX3JlZi5vbk1vdXNlRG93bixcbiAgICAgIG9uTW91c2VVcCA9IF9yZWYub25Nb3VzZVVwLFxuICAgICAgb25Gb2N1cyA9IF9yZWYub25Gb2N1cyxcbiAgICAgIG9uQmx1ciA9IF9yZWYub25CbHVyLFxuICAgICAgX3JlZiRzdHlsZSA9IF9yZWYuc3R5bGUsXG4gICAgICBzdHlsZSA9IF9yZWYkc3R5bGUgPT09IHZvaWQgMCA/IHt9IDogX3JlZiRzdHlsZSxcbiAgICAgIF9yZWYkY2xhc3NOYW1lID0gX3JlZi5jbGFzc05hbWUsXG4gICAgICBjbGFzc05hbWUgPSBfcmVmJGNsYXNzTmFtZSA9PT0gdm9pZCAwID8gXCJcIiA6IF9yZWYkY2xhc3NOYW1lLFxuICAgICAgcmVzdFByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9yZWYsIF9leGNsdWRlZCQyKTtcblxuICB2YXIgX3VzZUNvbnRleHQgPSB1c2VDb250ZXh0KE1hcENvbnRleHQpLFxuICAgICAgcHJvamVjdGlvbiA9IF91c2VDb250ZXh0LnByb2plY3Rpb247XG5cbiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKGZhbHNlKSxcbiAgICAgIF91c2VTdGF0ZTIgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUsIDIpLFxuICAgICAgaXNQcmVzc2VkID0gX3VzZVN0YXRlMlswXSxcbiAgICAgIHNldFByZXNzZWQgPSBfdXNlU3RhdGUyWzFdO1xuXG4gIHZhciBfdXNlU3RhdGUzID0gdXNlU3RhdGUoZmFsc2UpLFxuICAgICAgX3VzZVN0YXRlNCA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTMsIDIpLFxuICAgICAgaXNGb2N1c2VkID0gX3VzZVN0YXRlNFswXSxcbiAgICAgIHNldEZvY3VzID0gX3VzZVN0YXRlNFsxXTtcblxuICB2YXIgX3Byb2plY3Rpb24gPSBwcm9qZWN0aW9uKGNvb3JkaW5hdGVzKSxcbiAgICAgIF9wcm9qZWN0aW9uMiA9IF9zbGljZWRUb0FycmF5KF9wcm9qZWN0aW9uLCAyKSxcbiAgICAgIHggPSBfcHJvamVjdGlvbjJbMF0sXG4gICAgICB5ID0gX3Byb2plY3Rpb24yWzFdO1xuXG4gIGZ1bmN0aW9uIGhhbmRsZU1vdXNlRW50ZXIoZXZ0KSB7XG4gICAgc2V0Rm9jdXModHJ1ZSk7XG4gICAgaWYgKG9uTW91c2VFbnRlcikgb25Nb3VzZUVudGVyKGV2dCk7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVNb3VzZUxlYXZlKGV2dCkge1xuICAgIHNldEZvY3VzKGZhbHNlKTtcbiAgICBpZiAoaXNQcmVzc2VkKSBzZXRQcmVzc2VkKGZhbHNlKTtcbiAgICBpZiAob25Nb3VzZUxlYXZlKSBvbk1vdXNlTGVhdmUoZXZ0KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZUZvY3VzKGV2dCkge1xuICAgIHNldEZvY3VzKHRydWUpO1xuICAgIGlmIChvbkZvY3VzKSBvbkZvY3VzKGV2dCk7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVCbHVyKGV2dCkge1xuICAgIHNldEZvY3VzKGZhbHNlKTtcbiAgICBpZiAoaXNQcmVzc2VkKSBzZXRQcmVzc2VkKGZhbHNlKTtcbiAgICBpZiAob25CbHVyKSBvbkJsdXIoZXZ0KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZU1vdXNlRG93bihldnQpIHtcbiAgICBzZXRQcmVzc2VkKHRydWUpO1xuICAgIGlmIChvbk1vdXNlRG93bikgb25Nb3VzZURvd24oZXZ0KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZU1vdXNlVXAoZXZ0KSB7XG4gICAgc2V0UHJlc3NlZChmYWxzZSk7XG4gICAgaWYgKG9uTW91c2VVcCkgb25Nb3VzZVVwKGV2dCk7XG4gIH1cblxuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJnXCIsIF9leHRlbmRzKHtcbiAgICByZWY6IHJlZixcbiAgICB0cmFuc2Zvcm06IFwidHJhbnNsYXRlKFwiLmNvbmNhdCh4LCBcIiwgXCIpLmNvbmNhdCh5LCBcIilcIiksXG4gICAgY2xhc3NOYW1lOiBcInJzbS1tYXJrZXIgXCIuY29uY2F0KGNsYXNzTmFtZSksXG4gICAgb25Nb3VzZUVudGVyOiBoYW5kbGVNb3VzZUVudGVyLFxuICAgIG9uTW91c2VMZWF2ZTogaGFuZGxlTW91c2VMZWF2ZSxcbiAgICBvbkZvY3VzOiBoYW5kbGVGb2N1cyxcbiAgICBvbkJsdXI6IGhhbmRsZUJsdXIsXG4gICAgb25Nb3VzZURvd246IGhhbmRsZU1vdXNlRG93bixcbiAgICBvbk1vdXNlVXA6IGhhbmRsZU1vdXNlVXAsXG4gICAgc3R5bGU6IHN0eWxlW2lzUHJlc3NlZCB8fCBpc0ZvY3VzZWQgPyBpc1ByZXNzZWQgPyBcInByZXNzZWRcIiA6IFwiaG92ZXJcIiA6IFwiZGVmYXVsdFwiXVxuICB9LCByZXN0UHJvcHMpLCBjaGlsZHJlbik7XG59KTtcbk1hcmtlci5kaXNwbGF5TmFtZSA9IFwiTWFya2VyXCI7XG5NYXJrZXIucHJvcFR5cGVzID0ge1xuICBjb29yZGluYXRlczogUHJvcFR5cGVzLmFycmF5LFxuICBjaGlsZHJlbjogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm5vZGUsIFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5ub2RlKV0pLFxuICBvbk1vdXNlRW50ZXI6IFByb3BUeXBlcy5mdW5jLFxuICBvbk1vdXNlTGVhdmU6IFByb3BUeXBlcy5mdW5jLFxuICBvbk1vdXNlRG93bjogUHJvcFR5cGVzLmZ1bmMsXG4gIG9uTW91c2VVcDogUHJvcFR5cGVzLmZ1bmMsXG4gIG9uRm9jdXM6IFByb3BUeXBlcy5mdW5jLFxuICBvbkJsdXI6IFByb3BUeXBlcy5mdW5jLFxuICBzdHlsZTogUHJvcFR5cGVzLm9iamVjdCxcbiAgY2xhc3NOYW1lOiBQcm9wVHlwZXMuc3RyaW5nXG59O1xuXG52YXIgX2V4Y2x1ZGVkJDEgPSBbXCJmcm9tXCIsIFwidG9cIiwgXCJjb29yZGluYXRlc1wiLCBcInN0cm9rZVwiLCBcInN0cm9rZVdpZHRoXCIsIFwiZmlsbFwiLCBcImNsYXNzTmFtZVwiXTtcbnZhciBMaW5lID0gZm9yd2FyZFJlZihmdW5jdGlvbiAoX3JlZiwgcmVmKSB7XG4gIHZhciBfcmVmJGZyb20gPSBfcmVmLmZyb20sXG4gICAgICBmcm9tID0gX3JlZiRmcm9tID09PSB2b2lkIDAgPyBbMCwgMF0gOiBfcmVmJGZyb20sXG4gICAgICBfcmVmJHRvID0gX3JlZi50byxcbiAgICAgIHRvID0gX3JlZiR0byA9PT0gdm9pZCAwID8gWzAsIDBdIDogX3JlZiR0byxcbiAgICAgIGNvb3JkaW5hdGVzID0gX3JlZi5jb29yZGluYXRlcyxcbiAgICAgIF9yZWYkc3Ryb2tlID0gX3JlZi5zdHJva2UsXG4gICAgICBzdHJva2UgPSBfcmVmJHN0cm9rZSA9PT0gdm9pZCAwID8gXCJjdXJyZW50Y29sb3JcIiA6IF9yZWYkc3Ryb2tlLFxuICAgICAgX3JlZiRzdHJva2VXaWR0aCA9IF9yZWYuc3Ryb2tlV2lkdGgsXG4gICAgICBzdHJva2VXaWR0aCA9IF9yZWYkc3Ryb2tlV2lkdGggPT09IHZvaWQgMCA/IDMgOiBfcmVmJHN0cm9rZVdpZHRoLFxuICAgICAgX3JlZiRmaWxsID0gX3JlZi5maWxsLFxuICAgICAgZmlsbCA9IF9yZWYkZmlsbCA9PT0gdm9pZCAwID8gXCJ0cmFuc3BhcmVudFwiIDogX3JlZiRmaWxsLFxuICAgICAgX3JlZiRjbGFzc05hbWUgPSBfcmVmLmNsYXNzTmFtZSxcbiAgICAgIGNsYXNzTmFtZSA9IF9yZWYkY2xhc3NOYW1lID09PSB2b2lkIDAgPyBcIlwiIDogX3JlZiRjbGFzc05hbWUsXG4gICAgICByZXN0UHJvcHMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3JlZiwgX2V4Y2x1ZGVkJDEpO1xuXG4gIHZhciBfdXNlQ29udGV4dCA9IHVzZUNvbnRleHQoTWFwQ29udGV4dCksXG4gICAgICBwYXRoID0gX3VzZUNvbnRleHQucGF0aDtcblxuICB2YXIgbGluZURhdGEgPSB7XG4gICAgdHlwZTogXCJMaW5lU3RyaW5nXCIsXG4gICAgY29vcmRpbmF0ZXM6IGNvb3JkaW5hdGVzIHx8IFtmcm9tLCB0b11cbiAgfTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCBfZXh0ZW5kcyh7XG4gICAgcmVmOiByZWYsXG4gICAgZDogcGF0aChsaW5lRGF0YSksXG4gICAgY2xhc3NOYW1lOiBcInJzbS1saW5lIFwiLmNvbmNhdChjbGFzc05hbWUpLFxuICAgIHN0cm9rZTogc3Ryb2tlLFxuICAgIHN0cm9rZVdpZHRoOiBzdHJva2VXaWR0aCxcbiAgICBmaWxsOiBmaWxsXG4gIH0sIHJlc3RQcm9wcykpO1xufSk7XG5MaW5lLmRpc3BsYXlOYW1lID0gXCJMaW5lXCI7XG5MaW5lLnByb3BUeXBlcyA9IHtcbiAgZnJvbTogUHJvcFR5cGVzLmFycmF5LFxuICB0bzogUHJvcFR5cGVzLmFycmF5LFxuICBjb29yZGluYXRlczogUHJvcFR5cGVzLmFycmF5LFxuICBzdHJva2U6IFByb3BUeXBlcy5zdHJpbmcsXG4gIHN0cm9rZVdpZHRoOiBQcm9wVHlwZXMubnVtYmVyLFxuICBmaWxsOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBjbGFzc05hbWU6IFByb3BUeXBlcy5zdHJpbmdcbn07XG5cbnZhciBfZXhjbHVkZWQgPSBbXCJzdWJqZWN0XCIsIFwiY2hpbGRyZW5cIiwgXCJjb25uZWN0b3JQcm9wc1wiLCBcImR4XCIsIFwiZHlcIiwgXCJjdXJ2ZVwiLCBcImNsYXNzTmFtZVwiXTtcbnZhciBBbm5vdGF0aW9uID0gZm9yd2FyZFJlZihmdW5jdGlvbiAoX3JlZiwgcmVmKSB7XG4gIHZhciBzdWJqZWN0ID0gX3JlZi5zdWJqZWN0LFxuICAgICAgY2hpbGRyZW4gPSBfcmVmLmNoaWxkcmVuLFxuICAgICAgY29ubmVjdG9yUHJvcHMgPSBfcmVmLmNvbm5lY3RvclByb3BzLFxuICAgICAgX3JlZiRkeCA9IF9yZWYuZHgsXG4gICAgICBkeCA9IF9yZWYkZHggPT09IHZvaWQgMCA/IDMwIDogX3JlZiRkeCxcbiAgICAgIF9yZWYkZHkgPSBfcmVmLmR5LFxuICAgICAgZHkgPSBfcmVmJGR5ID09PSB2b2lkIDAgPyAzMCA6IF9yZWYkZHksXG4gICAgICBfcmVmJGN1cnZlID0gX3JlZi5jdXJ2ZSxcbiAgICAgIGN1cnZlID0gX3JlZiRjdXJ2ZSA9PT0gdm9pZCAwID8gMCA6IF9yZWYkY3VydmUsXG4gICAgICBfcmVmJGNsYXNzTmFtZSA9IF9yZWYuY2xhc3NOYW1lLFxuICAgICAgY2xhc3NOYW1lID0gX3JlZiRjbGFzc05hbWUgPT09IHZvaWQgMCA/IFwiXCIgOiBfcmVmJGNsYXNzTmFtZSxcbiAgICAgIHJlc3RQcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcmVmLCBfZXhjbHVkZWQpO1xuXG4gIHZhciBfdXNlQ29udGV4dCA9IHVzZUNvbnRleHQoTWFwQ29udGV4dCksXG4gICAgICBwcm9qZWN0aW9uID0gX3VzZUNvbnRleHQucHJvamVjdGlvbjtcblxuICB2YXIgX3Byb2plY3Rpb24gPSBwcm9qZWN0aW9uKHN1YmplY3QpLFxuICAgICAgX3Byb2plY3Rpb24yID0gX3NsaWNlZFRvQXJyYXkoX3Byb2plY3Rpb24sIDIpLFxuICAgICAgeCA9IF9wcm9qZWN0aW9uMlswXSxcbiAgICAgIHkgPSBfcHJvamVjdGlvbjJbMV07XG5cbiAgdmFyIGNvbm5lY3RvclBhdGggPSBjcmVhdGVDb25uZWN0b3JQYXRoKGR4LCBkeSwgY3VydmUpO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJnXCIsIF9leHRlbmRzKHtcbiAgICByZWY6IHJlZixcbiAgICB0cmFuc2Zvcm06IFwidHJhbnNsYXRlKFwiLmNvbmNhdCh4ICsgZHgsIFwiLCBcIikuY29uY2F0KHkgKyBkeSwgXCIpXCIpLFxuICAgIGNsYXNzTmFtZTogXCJyc20tYW5ub3RhdGlvbiBcIi5jb25jYXQoY2xhc3NOYW1lKVxuICB9LCByZXN0UHJvcHMpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgX2V4dGVuZHMoe1xuICAgIGQ6IGNvbm5lY3RvclBhdGgsXG4gICAgZmlsbDogXCJ0cmFuc3BhcmVudFwiLFxuICAgIHN0cm9rZTogXCIjMDAwXCJcbiAgfSwgY29ubmVjdG9yUHJvcHMpKSwgY2hpbGRyZW4pO1xufSk7XG5Bbm5vdGF0aW9uLmRpc3BsYXlOYW1lID0gXCJBbm5vdGF0aW9uXCI7XG5Bbm5vdGF0aW9uLnByb3BUeXBlcyA9IHtcbiAgc3ViamVjdDogUHJvcFR5cGVzLmFycmF5LFxuICBjaGlsZHJlbjogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm5vZGUsIFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5ub2RlKV0pLFxuICBkeDogUHJvcFR5cGVzLm51bWJlcixcbiAgZHk6IFByb3BUeXBlcy5udW1iZXIsXG4gIGN1cnZlOiBQcm9wVHlwZXMubnVtYmVyLFxuICBjb25uZWN0b3JQcm9wczogUHJvcFR5cGVzLm9iamVjdCxcbiAgY2xhc3NOYW1lOiBQcm9wVHlwZXMuc3RyaW5nXG59O1xuXG5leHBvcnQgeyBBbm5vdGF0aW9uLCBDb21wb3NhYmxlTWFwLCBHZW9ncmFwaGllcywgR2VvZ3JhcGh5JDEgYXMgR2VvZ3JhcGh5LCBHcmF0aWN1bGUkMSBhcyBHcmF0aWN1bGUsIExpbmUsIE1hcENvbnRleHQsIE1hcFByb3ZpZGVyLCBNYXJrZXIsIFNwaGVyZSQxIGFzIFNwaGVyZSwgWm9vbVBhbkNvbnRleHQsIFpvb21QYW5Qcm92aWRlciwgWm9vbWFibGVHcm91cCwgdXNlR2VvZ3JhcGhpZXMsIHVzZU1hcENvbnRleHQsIHVzZVpvb21QYW4sIHVzZVpvb21QYW5Db250ZXh0IH07XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/react-simple-maps/dist/index.es.js\n");

/***/ })

};
;